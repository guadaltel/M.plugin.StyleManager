!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t,n){
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2018, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
e.exports=function(){"use strict";for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t={},n=0,a=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];n<a.length;n+=1){var i=a[n];t["[object "+i+"]"]=i.toLowerCase()}var o=function(e){return t[Object.prototype.toString.call(e)]||"object"},r=Math.PI,s={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},limit:e,type:o,unpack:function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==o(e[0])&&t?t.split("").filter(function(t){return void 0!==e[0][t]}).map(function(t){return e[0][t]}):e[0]},last:function(e){if(e.length<2)return null;var t=e.length-1;return"string"==o(e[t])?e[t].toLowerCase():null},PI:r,TWOPI:2*r,PITHIRD:r/3,DEG2RAD:r/180,RAD2DEG:180/r},l={format:{},autodetect:[]},c=s.last,u=s.clip_rgb,d=s.type,p=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("object"===d(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var n=c(e),a=!1;if(!n){a=!0,l.sorted||(l.autodetect=l.autodetect.sort(function(e,t){return t.p-e.p}),l.sorted=!0);for(var i=0,o=l.autodetect;i<o.length;i+=1){var r=o[i];if(n=r.test.apply(r,e))break}}if(!l.format[n])throw new Error("unknown format: "+e);var s=l.format[n].apply(null,a?e:e.slice(0,-1));this._rgb=u(s),3===this._rgb.length&&this._rgb.push(1)};p.prototype.toString=function(){return"function"==d(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var f=p,h=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(h.Color,[null].concat(e)))};h.Color=f,h.version="2.0.3";var y=h,v=s.unpack,b=Math.max,m=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=v(e,"rgb"),a=n[0],i=n[1],o=n[2],r=1-b(a/=255,b(i/=255,o/=255)),s=r<1?1/(1-r):0,l=(1-a-r)*s,c=(1-i-r)*s,u=(1-o-r)*s;return[l,c,u,r]},g=s.unpack,k=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=g(e,"cmyk"))[0],a=e[1],i=e[2],o=e[3],r=e.length>4?e[4]:1;return 1===o?[0,0,0,r]:[n>=1?0:255*(1-n)*(1-o),a>=1?0:255*(1-a)*(1-o),i>=1?0:255*(1-i)*(1-o),r]},S=s.unpack,_=s.type;f.prototype.cmyk=function(){return m(this._rgb)},y.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["cmyk"])))},l.format.cmyk=k,l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=S(e,"cmyk"),"array"===_(e)&&4===e.length)return"cmyk"}});var O=s.unpack,w=s.last,E=function(e){return Math.round(100*e)/100},P=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=O(e,"hsla"),a=w(e)||"lsa";return n[0]=E(n[0]||0),n[1]=E(100*n[1])+"%",n[2]=E(100*n[2])+"%","hsla"===a||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,a="hsla"):n.length=3,a+"("+n.join(",")+")"},L=s.unpack,x=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=L(e,"rgba"))[0],a=e[1],i=e[2];n/=255,a/=255,i/=255;var o,r,s=Math.min(n,a,i),l=Math.max(n,a,i),c=(l+s)/2;return l===s?(o=0,r=Number.NaN):o=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?r=(a-i)/(l-s):a==l?r=2+(i-n)/(l-s):i==l&&(r=4+(n-a)/(l-s)),(r*=60)<0&&(r+=360),e.length>3&&void 0!==e[3]?[r,o,c,e[3]]:[r,o,c]},A=s.unpack,T=s.last,q=Math.round,C=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=A(e,"rgba"),a=T(e)||"rgb";return"hsl"==a.substr(0,3)?P(x(n),a):(n[0]=q(n[0]),n[1]=q(n[1]),n[2]=q(n[2]),("rgba"===a||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,a="rgba"),a+"("+n.slice(0,"rgb"===a?3:4).join(",")+")")},M=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,N=/^#?([A-Fa-f0-9]{8})$/,j=function(e){if(e.match(M)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16),n=t>>16,a=t>>8&255,i=255&t;return[n,a,i,1]}if(e.match(N)){9===e.length&&(e=e.substr(1));var o=parseInt(e,16),r=o>>24&255,s=o>>16&255,l=o>>8&255,c=Math.round((255&o)/255*100)/100;return[r,s,l,c]}throw new Error("unknown hex color: "+e)},F=s.unpack,I=Math.round,R=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var a,i,o,r=(t=F(t,"hsl"))[0],s=t[1],l=t[2];if(0===s)a=i=o=255*l;else{var c=[0,0,0],u=[0,0,0],d=l<.5?l*(1+s):l+s-l*s,p=2*l-d,f=r/360;c[0]=f+1/3,c[1]=f,c[2]=f-1/3;for(var h=0;h<3;h++)c[h]<0&&(c[h]+=1),c[h]>1&&(c[h]-=1),6*c[h]<1?u[h]=p+6*(d-p)*c[h]:2*c[h]<1?u[h]=d:3*c[h]<2?u[h]=p+(d-p)*(2/3-c[h])*6:u[h]=p;e=[I(255*u[0]),I(255*u[1]),I(255*u[2])],a=e[0],i=e[1],o=e[2]}return t.length>3?[a,i,o,t[3]]:[a,i,o,1]},B={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},D=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,G=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,U=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,z=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,V=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,H=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Y=Math.round,K=function(e){if(e=e.toLowerCase().trim(),B[e])return j(B[e]);var t;if(t=e.match(D)){for(var n=t.slice(1,4),a=0;a<3;a++)n[a]=+n[a];return n[3]=1,n}if(t=e.match(G)){for(var i=t.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(t=e.match(U)){for(var r=t.slice(1,4),s=0;s<3;s++)r[s]=Y(2.55*r[s]);return r[3]=1,r}if(t=e.match(z)){for(var l=t.slice(1,5),c=0;c<3;c++)l[c]=Y(2.55*l[c]);return l[3]=+l[3],l}if(t=e.match(V)){var u=t.slice(1,4);u[1]*=.01,u[2]*=.01;var d=R(u);return d[3]=1,d}if(t=e.match(H)){var p=t.slice(1,4);p[1]*=.01,p[2]*=.01;var f=R(p);return f[3]=+t[4],f}};K.test=function(e){return D.test(e)||G.test(e)||U.test(e)||z.test(e)||V.test(e)||H.test(e)};var X=K,J=s.type;f.prototype.css=function(e){return C(this._rgb,e)},y.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["css"])))},l.format.css=X,l.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===J(e)&&X.test(e))return"css"}});var W=s.unpack;l.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=W(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},y.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["gl"])))},f.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var $=s.unpack,Q=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a=$(e,"rgb"),i=a[0],o=a[1],r=a[2],s=Math.min(i,o,r),l=Math.max(i,o,r),c=l-s,u=100*c/255,d=s/(255-c)*100;return 0===c?n=Number.NaN:(i===l&&(n=(o-r)/c),o===l&&(n=2+(r-i)/c),r===l&&(n=4+(i-o)/c),(n*=60)<0&&(n+=360)),[n,u,d]},Z=s.unpack,ee=Math.floor,te=function(){for(var e,t,n,a,i,o,r=[],s=arguments.length;s--;)r[s]=arguments[s];var l,c,u,d=(r=Z(r,"hcg"))[0],p=r[1],f=r[2];f*=255;var h=255*p;if(0===p)l=c=u=f;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var y=ee(d/=60),v=d-y,b=f*(1-p),m=b+h*(1-v),g=b+h*v,k=b+h;switch(y){case 0:l=(e=[k,g,b])[0],c=e[1],u=e[2];break;case 1:l=(t=[m,k,b])[0],c=t[1],u=t[2];break;case 2:l=(n=[b,k,g])[0],c=n[1],u=n[2];break;case 3:l=(a=[b,m,k])[0],c=a[1],u=a[2];break;case 4:l=(i=[g,b,k])[0],c=i[1],u=i[2];break;case 5:l=(o=[k,b,m])[0],c=o[1],u=o[2]}}return[l,c,u,r.length>3?r[3]:1]},ne=s.unpack,ae=s.type;f.prototype.hcg=function(){return Q(this._rgb)},y.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hcg"])))},l.format.hcg=te,l.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ne(e,"hcg"),"array"===ae(e)&&3===e.length)return"hcg"}});var ie=s.unpack,oe=s.last,re=Math.round,se=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ie(e,"rgba"),a=n[0],i=n[1],o=n[2],r=n[3],s=oe(e)||"auto";void 0===r&&(r=1),"auto"===s&&(s=r<1?"rgba":"rgb"),a=re(a),i=re(i),o=re(o);var l=a<<16|i<<8|o,c="000000"+l.toString(16);c=c.substr(c.length-6);var u="0"+re(255*r).toString(16);switch(u=u.substr(u.length-2),s.toLowerCase()){case"rgba":return"#"+c+u;case"argb":return"#"+u+c;default:return"#"+c}},le=s.type;f.prototype.hex=function(e){return se(this._rgb,e)},y.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hex"])))},l.format.hex=j,l.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===le(e)&&[3,4,6,7,8,9].includes(e.length))return"hex"}});var ce=s.unpack,ue=s.TWOPI,de=Math.min,pe=Math.sqrt,fe=Math.acos,he=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a=ce(e,"rgb"),i=a[0],o=a[1],r=a[2],s=de(i/=255,o/=255,r/=255),l=(i+o+r)/3,c=l>0?1-s/l:0;return 0===c?n=NaN:(n=(i-o+(i-r))/2,n/=pe((i-o)*(i-o)+(i-r)*(o-r)),n=fe(n),r>o&&(n=ue-n),n/=ue),[360*n,c,l]},ye=s.unpack,ve=s.limit,be=s.TWOPI,me=s.PITHIRD,ge=Math.cos,ke=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a,i,o=(e=ye(e,"hsi"))[0],r=e[1],s=e[2];return isNaN(o)&&(o=0),isNaN(r)&&(r=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?(i=(1-r)/3,n=(1+r*ge(be*o)/ge(me-be*o))/3,a=1-(i+n)):o<2/3?(n=(1-r)/3,a=(1+r*ge(be*(o-=1/3))/ge(me-be*o))/3,i=1-(n+a)):(a=(1-r)/3,i=(1+r*ge(be*(o-=2/3))/ge(me-be*o))/3,n=1-(a+i)),n=ve(s*n*3),a=ve(s*a*3),i=ve(s*i*3),[255*n,255*a,255*i,e.length>3?e[3]:1]},Se=s.unpack,_e=s.type;f.prototype.hsi=function(){return he(this._rgb)},y.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hsi"])))},l.format.hsi=ke,l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Se(e,"hsi"),"array"===_e(e)&&3===e.length)return"hsi"}});var Oe=s.unpack,we=s.type;f.prototype.hsl=function(){return x(this._rgb)},y.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hsl"])))},l.format.hsl=R,l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Oe(e,"hsl"),"array"===we(e)&&3===e.length)return"hsl"}});var Ee=s.unpack,Pe=Math.min,Le=Math.max,xe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a,i,o=(e=Ee(e,"rgb"))[0],r=e[1],s=e[2],l=Pe(o,r,s),c=Le(o,r,s),u=c-l;return i=c/255,0===c?(n=Number.NaN,a=0):(a=u/c,o===c&&(n=(r-s)/u),r===c&&(n=2+(s-o)/u),s===c&&(n=4+(o-r)/u),(n*=60)<0&&(n+=360)),[n,a,i]},Ae=s.unpack,Te=Math.floor,qe=function(){for(var e,t,n,a,i,o,r=[],s=arguments.length;s--;)r[s]=arguments[s];var l,c,u,d=(r=Ae(r,"hsv"))[0],p=r[1],f=r[2];if(f*=255,0===p)l=c=u=f;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var h=Te(d/=60),y=d-h,v=f*(1-p),b=f*(1-p*y),m=f*(1-p*(1-y));switch(h){case 0:l=(e=[f,m,v])[0],c=e[1],u=e[2];break;case 1:l=(t=[b,f,v])[0],c=t[1],u=t[2];break;case 2:l=(n=[v,f,m])[0],c=n[1],u=n[2];break;case 3:l=(a=[v,b,f])[0],c=a[1],u=a[2];break;case 4:l=(i=[m,v,f])[0],c=i[1],u=i[2];break;case 5:l=(o=[f,v,b])[0],c=o[1],u=o[2]}}return[l,c,u,r.length>3?r[3]:1]},Ce=s.unpack,Me=s.type;f.prototype.hsv=function(){return xe(this._rgb)},y.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hsv"])))},l.format.hsv=qe,l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ce(e,"hsv"),"array"===Me(e)&&3===e.length)return"hsv"}});var Ne={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},je=s.unpack,Fe=Math.pow,Ie=function(e){return(e/=255)<=.04045?e/12.92:Fe((e+.055)/1.055,2.4)},Re=function(e){return e>Ne.t3?Fe(e,1/3):e/Ne.t2+Ne.t0},Be=function(e,t,n){e=Ie(e),t=Ie(t),n=Ie(n);var a=Re((.4124564*e+.3575761*t+.1804375*n)/Ne.Xn),i=Re((.2126729*e+.7151522*t+.072175*n)/Ne.Yn),o=Re((.0193339*e+.119192*t+.9503041*n)/Ne.Zn);return[a,i,o]},De=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=je(e,"rgb"),a=n[0],i=n[1],o=n[2],r=Be(a,i,o),s=r[0],l=r[1],c=r[2],u=116*l-16;return[u<0?0:u,500*(s-l),200*(l-c)]},Ge=s.unpack,Ue=Math.pow,ze=function(e){return 255*(e<=.00304?12.92*e:1.055*Ue(e,1/2.4)-.055)},Ve=function(e){return e>Ne.t1?e*e*e:Ne.t2*(e-Ne.t0)},He=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a,i,o,r,s,l=(e=Ge(e,"lab"))[0],c=e[1],u=e[2];return a=(l+16)/116,n=isNaN(c)?a:a+c/500,i=isNaN(u)?a:a-u/200,a=Ne.Yn*Ve(a),n=Ne.Xn*Ve(n),i=Ne.Zn*Ve(i),o=ze(3.2404542*n-1.5371385*a-.4985314*i),r=ze(-.969266*n+1.8760108*a+.041556*i),s=ze(.0556434*n-.2040259*a+1.0572252*i),[o,r,s,e.length>3?e[3]:1]},Ye=s.unpack,Ke=s.type;f.prototype.lab=function(){return De(this._rgb)},y.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["lab"])))},l.format.lab=He,l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ye(e,"lab"),"array"===Ke(e)&&3===e.length)return"lab"}});var Xe=s.unpack,Je=s.RAD2DEG,We=Math.sqrt,$e=Math.atan2,Qe=Math.round,Ze=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Xe(e,"lab"),a=n[0],i=n[1],o=n[2],r=We(i*i+o*o),s=($e(o,i)*Je+360)%360;return 0===Qe(1e4*r)&&(s=Number.NaN),[a,r,s]},et=s.unpack,tt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=et(e,"rgb"),a=n[0],i=n[1],o=n[2],r=De(a,i,o),s=r[0],l=r[1],c=r[2];return Ze(s,l,c)},nt=s.unpack,at=s.DEG2RAD,it=Math.sin,ot=Math.cos,rt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=nt(e,"lch"),a=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[a,ot(o*=at)*i,it(o)*i]},st=s.unpack,lt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=st(e,"lch"))[0],a=e[1],i=e[2],o=rt(n,a,i),r=o[0],s=o[1],l=o[2],c=He(r,s,l),u=c[0],d=c[1],p=c[2];return[u,d,p,e.length>3?e[3]:1]},ct=s.unpack,ut=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ct(e,"hcl").reverse();return lt.apply(void 0,n)},dt=s.unpack,pt=s.type;f.prototype.lch=function(){return tt(this._rgb)},f.prototype.hcl=function(){return tt(this._rgb).reverse()},y.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["lch"])))},y.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hcl"])))},l.format.lch=lt,l.format.hcl=ut,["lch","hcl"].forEach(function(e){return l.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=dt(t,e),"array"===pt(t)&&3===t.length)return e}})});var ft=s.type;f.prototype.name=function(){for(var e=se(this._rgb,"rgb"),t=0,n=Object.keys(B);t<n.length;t+=1){var a=n[t];if(B[a]===e)return a.toLowerCase()}return e},l.format.named=function(e){if(e=e.toLowerCase(),B[e])return j(B[e]);throw new Error("unknown color name: "+e)},l.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===ft(e)&&B[e.toLowerCase()])return"named"}});var ht=s.unpack,yt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ht(e,"rgb"),a=n[0],i=n[1],o=n[2];return(a<<16)+(i<<8)+o},vt=s.type,bt=function(e){if("number"==vt(e)&&e>=0&&e<=16777215){var t=e>>16,n=e>>8&255,a=255&e;return[t,n,a,1]}throw new Error("unknown num color: "+e)},mt=s.type;f.prototype.num=function(){return yt(this._rgb)},y.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["num"])))},l.format.num=bt,l.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===mt(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var gt=s.unpack,kt=s.type,St=Math.round;f.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(St)},f.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map(function(t,n){return n<3?!1===e?t:St(t):t})},y.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["rgb"])))},l.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=gt(e,"rgba");return void 0===n[3]&&(n[3]=1),n},l.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=gt(e,"rgba"),"array"===kt(e)&&(3===e.length||4===e.length&&"number"==kt(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var _t=Math.log,Ot=function(e){var t,n,a,i=e/100;return i<66?(t=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*_t(n),a=i<20?0:.8274096064007395*(a=i-10)-254.76935184120902+115.67994401066147*_t(a)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*_t(t),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*_t(n),a=255),[t,n,a,1]},wt=s.unpack,Et=Math.round,Pt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n,a=wt(e,"rgb"),i=a[0],o=a[2],r=1e3,s=4e4;s-r>.4;){var l=Ot(n=.5*(s+r));l[2]/l[0]>=o/i?s=n:r=n}return Et(n)};f.prototype.temp=f.prototype.kelvin=f.prototype.temperature=function(){return Pt(this._rgb)},y.temp=y.kelvin=y.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["temp"])))},l.format.temp=l.format.kelvin=l.format.temperature=Ot;var Lt=s.type;f.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Lt(e)?t?(this._rgb[3]=e,this):new f([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},f.prototype.clipped=function(){return this._rgb._clipped||!1},f.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=Ne.Kn*e,new f(t,"lab").alpha(this.alpha(),!0)},f.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},f.prototype.darker=f.prototype.darken,f.prototype.brighter=f.prototype.brighten,f.prototype.get=function(e){var t=e.split("."),n=t[0],a=t[1],i=this[n]();if(a){var o=n.indexOf(a);if(o>-1)return i[o];throw new Error("unknown channel "+a+" in mode "+n)}return i};var xt=s.type,At=Math.pow;f.prototype.luminance=function(e){if(void 0!==e&&"number"===xt(e)){if(0===e)return new f([0,0,0,this._rgb[3]],"rgb");if(1===e)return new f([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n=20,a=function(t,i){var o=t.interpolate(i,.5,"rgb"),r=o.luminance();return Math.abs(e-r)<1e-7||!n--?o:r>e?a(t,o):a(o,i)},i=(t>e?a(new f([0,0,0]),this):a(this,new f([255,255,255]))).rgb();return new f(i.concat([this._rgb[3]]))}return Tt.apply(void 0,this._rgb.slice(0,3))};var Tt=function(e,t,n){return e=qt(e),t=qt(t),n=qt(n),.2126*e+.7152*t+.0722*n},qt=function(e){return(e/=255)<=.03928?e/12.92:At((e+.055)/1.055,2.4)},Ct={},Mt=s.type,Nt=function(e,t,n){void 0===n&&(n=.5);for(var a=[],i=arguments.length-3;i-- >0;)a[i]=arguments[i+3];var o=a[0]||"lrgb";if(Ct[o]||a.length||(o=Object.keys(Ct)[0]),!Ct[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Mt(e)&&(e=new f(e)),"object"!==Mt(t)&&(t=new f(t)),Ct[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};f.prototype.mix=f.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],a=arguments.length-2;a-- >0;)n[a]=arguments[a+2];return Nt.apply(void 0,[this,e,t].concat(n))},f.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new f([t[0]*n,t[1]*n,t[2]*n,n],"rgb")},f.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=Ne.Kn*e,t[1]<0&&(t[1]=0),new f(t,"lch").alpha(this.alpha(),!0)},f.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var jt=s.type;f.prototype.set=function(e,t,n){void 0===n&&(n=!1);var a=e.split("."),i=a[0],o=a[1],r=this[i]();if(o){var s=i.indexOf(o);if(s>-1){if("string"==jt(t))switch(t.charAt(0)){case"+":case"-":r[s]+=+t;break;case"*":r[s]*=+t.substr(1);break;case"/":r[s]/=+t.substr(1);break;default:r[s]=+t}else{if("number"!==jt(t))throw new Error("unsupported value for Color.set");r[s]=t}var l=new f(r,i);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+o+" in mode "+i)}return r},Ct.rgb=function(e,t,n){var a=e._rgb,i=t._rgb;return new f(a[0]+n*(i[0]-a[0]),a[1]+n*(i[1]-a[1]),a[2]+n*(i[2]-a[2]),"rgb")};var Ft=Math.sqrt,It=Math.pow;Ct.lrgb=function(e,t,n){var a=e._rgb,i=a[0],o=a[1],r=a[2],s=t._rgb,l=s[0],c=s[1],u=s[2];return new f(Ft(It(i,2)*(1-n)+It(l,2)*n),Ft(It(o,2)*(1-n)+It(c,2)*n),Ft(It(r,2)*(1-n)+It(u,2)*n),"rgb")},Ct.lab=function(e,t,n){var a=e.lab(),i=t.lab();return new f(a[0]+n*(i[0]-a[0]),a[1]+n*(i[1]-a[1]),a[2]+n*(i[2]-a[2]),"lab")};var Rt=function(e,t,n,a){var i,o,r,s,l,c,u,d,p,h,y,v;return"hsl"===a?(r=e.hsl(),s=t.hsl()):"hsv"===a?(r=e.hsv(),s=t.hsv()):"hcg"===a?(r=e.hcg(),s=t.hcg()):"hsi"===a?(r=e.hsi(),s=t.hsi()):"lch"!==a&&"hcl"!==a||(a="hcl",r=e.hcl(),s=t.hcl()),"h"===a.substr(0,1)&&(l=(i=r)[0],u=i[1],p=i[2],c=(o=s)[0],d=o[1],h=o[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?v=Number.NaN:(v=c,1!=p&&0!=p||"hsv"==a||(y=d)):(v=l,1!=h&&0!=h||"hsv"==a||(y=u)):v=l+n*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===y&&(y=u+n*(d-u)),new f([v,y,p+n*(h-p)],a)},Bt=function(e,t,n){return Rt(e,t,n,"lch")};Ct.lch=Bt,Ct.hcl=Bt,Ct.num=function(e,t,n){var a=e.num(),i=t.num();return new f(a+n*(i-a),"num")},Ct.hcg=function(e,t,n){return Rt(e,t,n,"hcg")},Ct.hsi=function(e,t,n){return Rt(e,t,n,"hsi")},Ct.hsl=function(e,t,n){return Rt(e,t,n,"hsl")},Ct.hsv=function(e,t,n){return Rt(e,t,n,"hsv")};var Dt=s.clip_rgb,Gt=Math.pow,Ut=Math.sqrt,zt=Math.PI,Vt=Math.cos,Ht=Math.sin,Yt=Math.atan2,Kt=function(e){for(var t=e.length,n=1/t,a=[0,0,0,0],i=0,o=e;i<o.length;i+=1){var r=o[i],s=r._rgb;a[0]+=Gt(s[0],2)*n,a[1]+=Gt(s[1],2)*n,a[2]+=Gt(s[2],2)*n,a[3]+=s[3]*n}return a[0]=Ut(a[0]),a[1]=Ut(a[1]),a[2]=Ut(a[2]),a[3]>.9999999&&(a[3]=1),new f(Dt(a))},Xt=s.type,Jt=Math.pow,Wt=function(e){var t="rgb",n=y("#ccc"),a=0,i=[0,1],o=[],r=[0,0],s=!1,l=[],c=!1,u=0,d=1,p=!1,f={},h=!0,v=1,b=function(e){if((e=e||["#fff","#000"])&&"string"===Xt(e)&&y.brewer&&y.brewer[e.toLowerCase()]&&(e=y.brewer[e.toLowerCase()]),"array"===Xt(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=y(e[t]);o.length=0;for(var n=0;n<e.length;n++)o.push(n/(e.length-1))}return k(),l=e},m=function(e){return e},g=function(e,a){var i,c;if(null==a&&(a=!1),isNaN(e)||null===e)return n;if(a)c=e;else if(s&&s.length>2){var p=function(e){if(null!=s){for(var t=s.length-1,n=0;n<t&&e>=s[n];)n++;return n-1}return 0}(e);c=p/(s.length-2)}else c=d!==u?(e-u)/(d-u):1;a||(c=m(c)),1!==v&&(c=Jt(c,v)),c=r[0]+c*(1-r[0]-r[1]),c=Math.min(1,Math.max(0,c));var b=Math.floor(1e4*c);if(h&&f[b])i=f[b];else{if("array"===Xt(l))for(var g=0;g<o.length;g++){var k=o[g];if(c<=k){i=l[g];break}if(c>=k&&g===o.length-1){i=l[g];break}if(c>k&&c<o[g+1]){c=(c-k)/(o[g+1]-k),i=y.interpolate(l[g],l[g+1],c,t);break}}else"function"===Xt(l)&&(i=l(c));h&&(f[b]=i)}return i},k=function(){return f={}};b(e);var S=function(e){var t=y(g(e));return c&&t[c]?t[c]():t};return S.classes=function(e){if(null!=e){if("array"===Xt(e))s=e,i=[e[0],e[e.length-1]];else{var t=y.analyze(i);s=0===e?[t.min,t.max]:y.limits(t,"e",e)}return S}return s},S.domain=function(e){if(!arguments.length)return i;u=e[0],d=e[e.length-1],o=[];var t=l.length;if(e.length===t&&u!==d)for(var n=0,a=Array.from(e);n<a.length;n+=1){var r=a[n];o.push((r-u)/(d-u))}else for(var s=0;s<t;s++)o.push(s/(t-1));return i=[u,d],S},S.mode=function(e){return arguments.length?(t=e,k(),S):t},S.range=function(e,t){return b(e),S},S.out=function(e){return c=e,S},S.spread=function(e){return arguments.length?(a=e,S):a},S.correctLightness=function(e){return null==e&&(e=!0),p=e,k(),m=p?function(e){for(var t=g(0,!0).lab()[0],n=g(1,!0).lab()[0],a=t>n,i=g(e,!0).lab()[0],o=t+(n-t)*e,r=i-o,s=0,l=1,c=20;Math.abs(r)>.01&&c-- >0;)a&&(r*=-1),r<0?(s=e,e+=.5*(l-e)):(l=e,e+=.5*(s-e)),i=g(e,!0).lab()[0],r=i-o;return e}:function(e){return e},S},S.padding=function(e){return null!=e?("number"===Xt(e)&&(e=[e,e]),r=e,S):r},S.colors=function(t,n){arguments.length<2&&(n="hex");var a=[];if(0===arguments.length)a=l.slice(0);else if(1===t)a=[S(.5)];else if(t>1){var o=i[0],r=i[1]-o;a=function(e,t,n){for(var a=[],i=e<t,o=n?i?t+1:t-1:t,r=e;i?r<o:r>o;i?r++:r--)a.push(r);return a}(0,t,!1).map(function(e){return S(o+e/(t-1)*r)})}else{e=[];var c=[];if(s&&s.length>2)for(var u=1,d=s.length,p=1<=d;p?u<d:u>d;p?u++:u--)c.push(.5*(s[u-1]+s[u]));else c=i;a=c.map(function(e){return S(e)})}return y[n]&&(a=a.map(function(e){return e[n]()})),a},S.cache=function(e){return null!=e?(h=e,S):h},S.gamma=function(e){return null!=e?(v=e,S):v},S.nodata=function(e){return null!=e?(n=y(e),S):n},S},$t=function(e){var t,n,a,i,o,r,s;if(2===(e=e.map(function(e){return new f(e)})).length)t=e.map(function(e){return e.lab()}),o=t[0],r=t[1],i=function(e){var t=[0,1,2].map(function(t){return o[t]+e*(r[t]-o[t])});return new f(t,"lab")};else if(3===e.length)n=e.map(function(e){return e.lab()}),o=n[0],r=n[1],s=n[2],i=function(e){var t=[0,1,2].map(function(t){return(1-e)*(1-e)*o[t]+2*(1-e)*e*r[t]+e*e*s[t]});return new f(t,"lab")};else if(4===e.length){var l;a=e.map(function(e){return e.lab()}),o=a[0],r=a[1],s=a[2],l=a[3],i=function(e){var t=[0,1,2].map(function(t){return(1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*r[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]});return new f(t,"lab")}}else if(5===e.length){var c=$t(e.slice(0,3)),u=$t(e.slice(2,5));i=function(e){return e<.5?c(2*e):u(2*(e-.5))}}return i},Qt=function(e,t,n){if(!Qt[n])throw new Error("unknown blend mode "+n);return Qt[n](e,t)},Zt=function(e){return function(t,n){var a=y(n).rgb(),i=y(t).rgb();return y.rgb(e(a,i))}},en=function(e){return function(t,n){var a=[];return a[0]=e(t[0],n[0]),a[1]=e(t[1],n[1]),a[2]=e(t[2],n[2]),a}};Qt.normal=Zt(en(function(e){return e})),Qt.multiply=Zt(en(function(e,t){return e*t/255})),Qt.screen=Zt(en(function(e,t){return 255*(1-(1-e/255)*(1-t/255))})),Qt.overlay=Zt(en(function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))})),Qt.darken=Zt(en(function(e,t){return e>t?t:e})),Qt.lighten=Zt(en(function(e,t){return e>t?e:t})),Qt.dodge=Zt(en(function(e,t){return 255===e?255:(e=t/255*255/(1-e/255))>255?255:e})),Qt.burn=Zt(en(function(e,t){return 255*(1-(1-t/255)/(e/255))}));for(var tn=Qt,nn=s.type,an=s.clip_rgb,on=s.TWOPI,rn=Math.pow,sn=Math.sin,ln=Math.cos,cn=Math.floor,un=Math.random,dn=Math.log,pn=Math.pow,fn=Math.floor,hn=Math.abs,yn=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===o(e)&&(e=Object.values(e)),e.forEach(function(e){t&&"object"===o(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(e,t){return vn(n,e,t)},n},vn=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==o(e)&&(e=yn(e));var a=e.min,i=e.max,r=e.values.sort(function(e,t){return e-t});if(1===n)return[a,i];var s=[];if("c"===t.substr(0,1)&&(s.push(a),s.push(i)),"e"===t.substr(0,1)){s.push(a);for(var l=1;l<n;l++)s.push(a+l/n*(i-a));s.push(i)}else if("l"===t.substr(0,1)){if(a<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*dn(a),u=Math.LOG10E*dn(i);s.push(a);for(var d=1;d<n;d++)s.push(pn(10,c+d/n*(u-c)));s.push(i)}else if("q"===t.substr(0,1)){s.push(a);for(var p=1;p<n;p++){var f=(r.length-1)*p/n,h=fn(f);if(h===f)s.push(r[h]);else{var y=f-h;s.push(r[h]*(1-y)+r[h+1]*y)}}s.push(i)}else if("k"===t.substr(0,1)){var v,b=r.length,m=new Array(b),g=new Array(n),k=!0,S=0,_=null;(_=[]).push(a);for(var O=1;O<n;O++)_.push(a+O/n*(i-a));for(_.push(i);k;){for(var w=0;w<n;w++)g[w]=0;for(var E=0;E<b;E++)for(var P=r[E],L=Number.MAX_VALUE,x=void 0,A=0;A<n;A++){var T=hn(_[A]-P);T<L&&(L=T,x=A),g[x]++,m[E]=x}for(var q=new Array(n),C=0;C<n;C++)q[C]=null;for(var M=0;M<b;M++)v=m[M],null===q[v]?q[v]=r[M]:q[v]+=r[M];for(var N=0;N<n;N++)q[N]*=1/g[N];k=!1;for(var j=0;j<n;j++)if(q[j]!==_[j]){k=!0;break}_=q,++S>200&&(k=!1)}for(var F={},I=0;I<n;I++)F[I]=[];for(var R=0;R<b;R++)v=m[R],F[v].push(r[R]);for(var B=[],D=0;D<n;D++)B.push(F[D][0]),B.push(F[D][F[D].length-1]);B=B.sort(function(e,t){return e-t}),s.push(B[0]);for(var G=1;G<B.length;G+=2){var U=B[G];isNaN(U)||-1!==s.indexOf(U)||s.push(U)}}return s},bn={analyze:yn,limits:vn},mn=Math.sqrt,gn=Math.atan2,kn=Math.abs,Sn=Math.cos,_n=Math.PI,On={cool:function(){return Wt([y.hsl(180,1,.9),y.hsl(250,.7,.4)])},hot:function(){return Wt(["#000","#f00","#ff0","#fff"]).mode("rgb")}},wn={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},En=0,Pn=Object.keys(wn);En<Pn.length;En+=1){var Ln=Pn[En];wn[Ln.toLowerCase()]=wn[Ln]}var xn=wn;return y.average=function(e,t){void 0===t&&(t="lrgb");var n=e.length;if(e=e.map(function(e){return new f(e)}),"lrgb"===t)return Kt(e);for(var a=e.shift(),i=a.get(t),o=[],r=0,s=0,l=0;l<i.length;l++)if(i[l]=i[l]||0,o.push(isNaN(i[l])?0:1),"h"===t.charAt(l)&&!isNaN(i[l])){var c=i[l]/180*zt;r+=Vt(c),s+=Ht(c)}var u=a.alpha();e.forEach(function(e){var n=e.get(t);u+=e.alpha();for(var a=0;a<i.length;a++)if(!isNaN(n[a]))if(o[a]++,"h"===t.charAt(a)){var l=n[a]/180*zt;r+=Vt(l),s+=Ht(l)}else i[a]+=n[a]});for(var d=0;d<i.length;d++)if("h"===t.charAt(d)){for(var p=Yt(s/o[d],r/o[d])/zt*180;p<0;)p+=360;for(;p>=360;)p-=360;i[d]=p}else i[d]=i[d]/o[d];return u/=n,new f(i,t).alpha(u>.99999?1:u,!0)},y.bezier=function(e){var t=$t(e);return t.scale=function(){return Wt(t)},t},y.blend=tn,y.cubehelix=function(e,t,n,a,i){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===a&&(a=1),void 0===i&&(i=[0,1]);var o,r=0;"array"===nn(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var l=on*((e+120)/360+t*s),c=rn(i[0]+o*s,a),u=0!==r?n[0]+s*r:n,d=u*c*(1-c)/2,p=ln(l),f=sn(l),h=c+d*(-.14861*p+1.78277*f),v=c+d*(-.29227*p-.90649*f),b=c+d*(1.97294*p);return y(an([255*h,255*v,255*b,1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?a:(a=e,s)},s.hue=function(e){return null==e?n:("array"===nn(n=e)?0==(r=n[1]-n[0])&&(n=n[1]):r=0,s)},s.lightness=function(e){return null==e?i:("array"===nn(e)?(i=e,o=e[1]-e[0]):(i=[e,e],o=0),s)},s.scale=function(){return y.scale(s)},s.hue(n),s},y.mix=y.interpolate=Nt,y.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(cn(16*un()));return new f(e,"hex")},y.scale=Wt,y.analyze=bn.analyze,y.contrast=function(e,t){e=new f(e),t=new f(t);var n=e.luminance(),a=t.luminance();return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)},y.deltaE=function(e,t,n,a){void 0===n&&(n=1),void 0===a&&(a=1),e=new f(e),t=new f(t);for(var i=Array.from(e.lab()),o=i[0],r=i[1],s=i[2],l=Array.from(t.lab()),c=l[0],u=l[1],d=l[2],p=mn(r*r+s*s),h=mn(u*u+d*d),y=o<16?.511:.040975*o/(1+.01765*o),v=.0638*p/(1+.0131*p)+.638,b=p<1e-6?0:180*gn(s,r)/_n;b<0;)b+=360;for(;b>=360;)b-=360;var m=b>=164&&b<=345?.56+kn(.2*Sn(_n*(b+168)/180)):.36+kn(.4*Sn(_n*(b+35)/180)),g=p*p*p*p,k=mn(g/(g+1900)),S=v*(k*m+1-k),_=p-h,O=r-u,w=s-d,E=(o-c)/(n*y),P=_/(a*v);return mn(E*E+P*P+(O*O+w*w-_*_)/(S*S))},y.distance=function(e,t,n){void 0===n&&(n="lab"),e=new f(e),t=new f(t);var a=e.get(n),i=t.get(n),o=0;for(var r in a){var s=(a[r]||0)-(i[r]||0);o+=s*s}return Math.sqrt(o)},y.limits=bn.limits,y.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(f,[null].concat(e))),!0}catch(e){return!1}},y.scales=On,y.colors=B,y.brewer=xn,y}()},function(e,t){e.exports='<div data-role="m-simple" class="m-stylemanager-simple-section">\n  \x3c!-- Fill options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="fill">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input data-style-options="fill.color" type="color" value="{{fill.color}}">\n        </div>\n\n        <div class="style-col-2">\n          <span>Opacidad:</span>\n          <input data-style-options="fill.opacity" type="number" value="{{fill.opacity}}" min="0" step="0.1" max="1">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="point">\n        <div class="style-col-1">\n          <span>Radio:</span>\n          <input data-style-options="radius" type="number" value="{{radius}}" min="1" max="60">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="line">\n        <div class="style-col-1">\n          <span>Ancho:</span>\n          <input value="{{fill.width}}" min="1" type="number" data-style-options="fill.width">\n        </div>\n      </div>\n      \x3c!-- Polygon Pattern --\x3e\n      <div class="subtitle" data-geometry="polygon">Opciones de patrón</div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1 input-reverse">\n          <span>Patrón</span>\n          <input data-apply="fill.pattern" type="checkbox" {{#if patternflag }}checked{{/if}}>\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Tipo:</span>\n          <select data-style-options="fill.pattern.name">\n            {{#each patternlist}}\n            <option value="{{#lowercase this.name}}{{/lowercase}}" {{#eq this.name this.selected}} selected {{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Color:</span>\n          <input value="{{fill.pattern.color}}" type="color" data-style-options="fill.pattern.color">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Tamaño:</span>\n          <input value="{{fill.pattern.size}}" type="number" min="1" max="100" data-style-options="fill.pattern.size">\n        </div>\n\n        <div class="style-col-2">\n          <span>Espacio:</span>\n          <input value="{{fill.pattern.spacing}}" type="number" min="1" max="100" data-style-options="fill.pattern.spacing">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Rotación:</span>\n          <input value="{{fill.pattern.rotation}}" type="number" data-style-options="fill.pattern.rotation">\n        </div>\n\n        <div class="style-col-2">\n          <span>Escala:</span>\n          <input value="{{fill.pattern.scale}}" type="number" min="1" max="30" data-style-options="fill.pattern.scale">\n        </div>\n      </div>\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Offset:</span>\n          <input value="{{fill.pattern.offset}}" type="number" data-style-options="fill.pattern.offset">\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Stroke options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="stroke">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input value="{{stroke.color}}" type="color" data-style-options="stroke.color">\n        </div>\n        <div class="style-col-2">\n          <span>Ancho:</span>\n          <input value="{{stroke.width}}" type="number" value="2" min="1" data-style-options="stroke.width">\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Linedash:</span>\n          <input value="{{#get 0 stroke.linedash}}{{/get}}" type="number" data-target="stroke.linedash" data-style-options="stroke.linedash">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 stroke.linedash}}{{/get}}" type="number" data-id="stroke.linedash">\n        </div>\n\n        <div class="style-col-2">\n          <span>Linedash Offset:</span>\n          <input type="number" value="{{stroke.linedashoffset}}" data-style-options="stroke.linedashoffset">\n        </div>\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Line Cap</span>\n          <select data-style-options="stroke.linecap">\n          <option value="">Ninguno</option>\n          {{#each linecapstroke}}\n          <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n          {{/each}}\n        </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Line Join:</span>\n          <select data-style-options="stroke.linejoin">\n          <option value="">Ninguno</option>\n          {{#each linejoinstroke}}\n          <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}> {{this.name}}</option>\n          {{/each}}\n        </select>\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Label options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="label">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Color</span>\n          <input value="{{label.fill.color}}" type="color" data-style-options="label.color" value="#0d5cdc">\n        </div>\n        <div class="style-col-2">\n          <span>Texto:</span>\n          <select data-style-options="label.text">\n            {{#each featuresAttr}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Fuente:</span>\n          <select data-font-family>\n          <option value="serif">Serif</option>\n          <option value="sans-serif">Sans-Serif</option>\n          <option value="mono">Mono</option>\n        </select>\n        </div>\n        <div class="style-col-2">\n          <span>Tamaño:</span>\n          <input data-font-size type="number" min="1" max="40" value="12">\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Alineación horizontal:</span>\n          <select data-style-options="label.align">\n          {{#each alignlist}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n          {{/each}}\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Alineación vertical:</span>\n          <select data-style-options="label.baseline">\n          {{#each baselinelist}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n          {{/each}}\n          </select>\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Rotar</span>\n          <input {{#if label.rotate}}checked{{/if}} type="checkbox" data-style-options="label.rotate">\n        </div>\n\n        <div class="style-col-2">\n          <span>Rotación</span>\n          <input value="{{label.rotation}}" type="number" step="0.1" data-style-options="label.rotation">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Escala:</span>\n          <input value="{{label.scale}}" type="number" max="3" min="0" step="0.1" value="2" data-style-options="label.scale">\n        </div>\n\n        <div class="style-col-2">\n          <span>Offset:</span>\n          <input value="{{#get 0 label.offset}}{{/get}}" type="number" data-target="label.offset" data-style-options="label.offset">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 label.offset}}{{/get}}" type="number" data-id="label.offset">\n        </div>\n\n      </div>\n\n      \x3c!-- TextPath Options --\x3e\n\n      <div class="group-row" data-geometry="line">\n\n        <div class="style-col-1 input-reverse">\n          <span>Ajustar a geometría</span>\n          <input {{#if label.path}}checked{{/if}} type="checkbox" data-style-options="label.path">\n        </div>\n\n        <div class="style-col-2">\n          <span>Ancho Mínimo:</span>\n          <input value="{{label.minwidth}}" type="number" min="1" max="200" value="10" data-style-options="label.minwidth" data-textpath {{#unless label.path}}disabled{{/unless}}>\n        </div>\n\n      </div>\n\n      <div class="group-row" data-geometry="line">\n\n        <div class="style-col-1 input-reverse">\n          <span>Suavizar</span>\n          <input {{#if label.smooth}}checked{{/if}} type="checkbox" data-style-options="label.smooth" data-textpath {{#unless label.path}}disabled{{/unless}}>\n        </div>\n\n        <div class=style-col-2>\n          <span>Desbordar:</span>\n          <select data-style-options="label.textoverflow" data-textpath {{#unless label.path}}disabled{{/unless}}>\n          <option value="hidden">Oculto</option>\n          <option value="visible">Visible</option>\n          <option value="ellipsis">Puntos suspensivos</option>\n        </select>\n        </div>\n\n      </div>\n\n      \x3c!-- Stroke Label --\x3e\n      <div class="subtitle">Trazo de etiqueta:</div>\n      <div class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Trazo</span>\n          <input type="checkbox" data-apply="label.stroke" {{#neq label.stroke.color \'no-color\'}}checked{{/neq}}>\n        </div>\n\n      </div>\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input type="color" data-style-options="label.stroke.color" {{#neq label.stroke.color \'no-color\'}}value="{{label.stroke.color}}" {{/neq}}>\n        </div>\n\n        <div class="style-col-2">\n          <span>Ancho:</span>\n          <input value="{{label.stroke.width}}" type="number" value="2" max="15" min="1" data-style-options="label.stroke.width">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Line Dash:</span>\n          <input value="{{#get 0 label.stroke.linedash}}{{/get}}" type="number" data-target="label.stroke.linedash" data-style-options="label.stroke.linedash" data-format="array">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 label.stroke.linedash}}{{/get}}" type="number" data-id="label.stroke.linedash">\n        </div>\n\n        <div class="style-col-2">\n          <span>Offset:</span>\n          <input type="number" value="{{label.stroke.linedashoffset}}" data-style-options="label.stroke.linedashoffset">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Line Cap:</span>\n          <select data-style-options="label.stroke.linecap">\n            {{#each linecaplabelstroke}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Line Join:</span>\n          <select data-style-options="label.stroke.linejoin">\n            {{#each linejoinlabelstroke}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n  \x3c!-- Icon Options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="icon">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n      \x3c!-- Point Icon --\x3e\n      <div data-pointicon class="group-row">\n        <div class="style-col-1">\n          <span>URL:</span>\n          <input value="{{icon.src}}" type="url" data-style-options="src.src">\n        </div>\n        <div class="style-col-2">\n          <span>Tamaño:</span>\n          <input {{#if icon.size}}value="{{#get 0 icon.size}}{{/get}}" {{/if}} type="number" min="1" data-undefined data-target="size" data-style-options="src.size">\n          <span class="empty">&nbsp;</span>\n          <input {{#if icon.size}}value="{{#get 1 icon.size}}{{/get}}" {{/if}} type="number" min="1" data-undefined data-id="size">\n        </div>\n      </div>\n\n      <div data-pointicon class="group-row">\n        <div class="style-col-2 input-reverse m-hidden">\n          <span>Snap to pixel</span>\n          <input {{#if icon.snaptopixel}}checked{{/if}} type="checkbox" data-style-options="src.snaptopixel">\n        </div>\n      </div>\n\n      <div data-pointicon class="group-row">\n        <div class="style-col-1">\n          <span>Anclaje:</span>\n          <input value="{{#get 0 icon.anchor}}{{/get}}" type="number" data-target="anchor" data-style-options="src.anchor" step="0.1">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 icon.anchor}}{{/get}}" type="number" data-id="anchor" step="0.1">\n        </div>\n        <div class="style-col-2">\n          <span>Escala:</span>\n          <input value="{{icon.scale}}" type="number" data-style-options="src.scale" max="3" min="0" step="0.1">\n        </div>\n      </div>\n\n      \x3c!-- Common --\x3e\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1">\n          <span>Offset:</span>\n          <input value="{{#get 0 icon.offset}}{{/get}}" type="number" data-target="icon-offset" data-style-options="src.offset">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 icon.offset}}{{/get}}" type="number" data-id="icon-offset" />\n        </div>\n\n        <div class="style-col-2">\n          <span>Opacidad:</span>\n          <input value="{{icon.opacity}}" type="number" step="0.1" min=0 max=1 data-style-options="src.opacity">\n        </div>\n      </div>\n\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Rotar</span>\n          <input {{#if icon.rotate}}checked {{/if}} type="checkbox" data-style-options="src.rotate">\n        </div>\n\n        <div class="style-col-2">\n          <span>Rotación:</span>\n          <input value="{{icon.rotation}}" type="number" min=0 max=360 data-style-options="src.rotation">\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n\n  \x3c!-- Form Options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="form">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      \x3c!-- Point Font --\x3e\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input type="color" data-style-options="form.fill" value="{{icon.fill}}">\n        </div>\n\n      </div>\n\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1">\n          <span>Forma:</span>\n          <select data-style-options="form.form">\n          {{#each formlist}}\n          <option value="{{this.id}}"{{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n          {{/each}}\n        </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Fuente:</span>\n          <select data-style-options="form.class">\n          <option value="">None</option>\n          <option value="g-cartografia-alerta" selected>Alerta</option>\n          <option value="g-cartografia-escala">Escala</option>\n          <option value="g-cartografia-cancelar">Cancelar</option>\n          <option value="g-cartografia-bandera">Bandera</option>\n          <option value="g-cartografia-brujula">Brujula</option>\n          <option value="g-cartografia-editar">Editar</option>\n        </select>\n        </div>\n\n      </div>\n\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1">\n          <span>Radio:</span>\n          <input type="number" min="1" max="100" value="20" data-style-options="form.radius" value="{{icon.radius}}">\n        </div>\n\n        <div class="style-col-2">\n          <span>Tamaño:</span>\n          <input type="number" step="0.1" min=0 max=100 data-style-options="form.fontsize" value="{{icon.fontsize}}">\n        </div>\n\n\n      </div>\n\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Gradiente</span>\n          <input type="checkbox" data-style-options="form.gradient" {{#if icon.gradient}}checked{{/if}}>\n        </div>\n\n        <div class="style-col-2">\n          <span>Trazo:</span>\n          <input type="color" data-style-options="form.gradientcolor" value="{{icon.gradientcolor}}">\n        </div>\n      </div>\n\n      \x3c!-- Common --\x3e\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1">\n          <span>Offset:</span>\n          <input value="{{#get 0 icon.offset}}{{/get}}" type="number" data-target="form-offset" data-style-options="form.offset">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 icon.offset}}{{/get}}" type="number" data-id="form-offset" />\n        </div>\n\n        <div class="style-col-2">\n          <span>Opacidad:</span>\n          <input value="{{icon.opacity}}" type="number" step="0.1" min=0 max=1 data-style-options="form.opacity">\n        </div>\n      </div>\n\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Rotar</span>\n          <input {{#if icon.rotate}}checked {{/if}} type="checkbox" data-style-options="form.rotate">\n        </div>\n\n        <div class="style-col-2">\n          <span>Rotación:</span>\n          <input value="{{icon.rotation}}" type="number" min=0 max=360 data-style-options="form.rotation">\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n</div>\n\n</div>\n'},function(e,t){e.exports='<div>\n  {{#each attributes}}\n  <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n  {{/each}}\n</div>\n'},function(e,t){e.exports='<div class="">\n  <table class="m-table-category">\n    <tr>\n      <th>Valor de atributo</th>\n      <th>Previsualización</th>\n    </tr>\n    {{#each values}}\n    <tr>\n      <td id="{{this.name}}">{{this.name}}</td>\n      <td><img id="img-{{this.name}}" src="xxxHTMLLINKxxx0.293971544975145440.4374769068971156xxx" alt=""></td>\n    </tr>\n    {{/each}} {{#if attributeExists}}\n    <tr>\n      <td id="other">Otros</td>\n      <td><img id="img-other" src="xxxHTMLLINKxxx0.63405955691666740.9975385137179829xxx" alt=""></td>\n    </tr>\n    {{/if}}\n  </table>\n</div>\n'},function(e,t){e.exports='<div class="m-stylemanager-control styles-panel">\n  <div class="m-stylemanager-container-select">\n    <ul>\n      <li class="group">\n        <div class="m-stylemanager-buttons-wrap">\n          <select class="" id="m-stylemanager-select">\n            <option disabled="disabled" selected="selected">Seleccione una capa...</option>\n          {{#each layers}}\n               <option name={{this.name}}>{{this.name}}</option>\n          {{/each}}\n          </select>\n          <button title="Aplicar estilo" class="m-button-styles" data-apply-style><i class="gi-1x g-sigc-apply"></i></button>\n          <button title="Limpiar estilo" class="m-button-styles" data-clear-style><i class="gi-1x g-sigc-reset"></i></button>\n        </div>\n      </li>\n    </ul>\n\n    <div class="m-boxes m-hidden m-boxes-botonera" data-role="botonera">\n      <input data-checkbox="stylesimple" type="checkbox" class="m-input" id="box-4">\n      <label data-flap="stylesimple" for="box-4" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-simple"></i> Simple</label>\n\n      \x3c!-- submenu --\x3e\n      <div data-buttons-option class="m-submenu-simple">\n      </div>\n\n      \x3c!-- fin submenu --\x3e\n\n      <input data-checkbox="stylecluster" type="checkbox" class="m-input" id="box-1">\n      <label data-flap="stylecluster" for="box-1" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-cluster"></i> Cluster</label>\n\n      <input data-checkbox="styleheatmap" type="checkbox" class="m-input" id="box-2">\n      <label data-flap="styleheatmap" for="box-2" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-heatmap"></i> Mapa de calor</label>\n\n      <input data-checkbox="stylecategory" type="checkbox" class="m-input" id="box-3">\n      <label data-flap="stylecategory" for="box-3" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-category"></i>Categoría</label>\n\n      <div data-buttons-option-category class="m-hidden m-submenu-simple">\n      </div>\n\n      <input data-checkbox="stylechoropleth" type="checkbox" class="m-input" id="box-5">\n      <label data-flap="stylechoropleth" for="box-5" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-choro"></i>Coropletas</label>\n\n      <input data-checkbox="styleproportional" type="checkbox" class="m-input" id="box-6">\n      <label data-flap="styleproportional" for="box-6" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-proportional"></i> Proporcional</label>\n\n      <input data-checkbox="stylechart" type="checkbox" class="m-input" id="box-7">\n      <label data-flap="stylechart" for="box-7" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-chart"></i>Estadísticos</label>\n    </div>\n\n\n  </div>\n</div>\n'},function(e,t){e.exports='<div data-role="m-proportional" class="m-stylemanager-simple-section m-proportional m-hidden">\n  <div class="styles-row">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Atributos:</span>\n          <select data-options="attributeName">\n        {{#each attributes}}\n          <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n        {{/each}}\n      </select>\n        </div>\n      </div>\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Radio mínimo:</span>\n          <input type="number" min="1" data-options="minRadius" value="{{this.minRadius}}">\n        </div>\n        <div class="style-col-2">\n          <span for="">Radio máximo:</span>\n          <input type="number" min="1" data-options="maxRadius" value="{{this.maxRadius}}">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div data-role="m-cluster" class="m-stylemanager-simple-section m-hidden">\n  \x3c!-- Ranges Options --\x3e\n  <div class="styles-row" data-id="ranges">\n    <div class="title">Rangos</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Número de rangos:</span>\n          <input type="number" data-number-ranges value="{{ranges.length}}" min="1" max="12">\n        </div>\n      </div>\n      <div data-parent="ranges">\n        {{#each ranges}}\n        <div {{#neq @index 0}} class="m-hidden" {{/neq}} data-page="{{#sum @index 1}}{{/sum}}">\n          <div class="subtitle">Rango {{#sum @index 1}}{{/sum}}</div>\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Desde:</span>\n              <input data-apply-range type="number" min="0" data-ranges-options="minRange" data-ranges-id="{{#sum @index 1}}{{/sum}}" value="{{min}}">\n            </div>\n            <div class="style-col-2">\n              <span>Hasta:</span>\n              <input data-apply-range type="number" min="0" data-ranges-options="maxRange" data-ranges-id="{{#sum @index 1}}{{/sum}}" value="{{max}}">\n            </div>\n          </div>\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Relleno:</span>\n              <input data-apply-range value="{{fill}}" type="color" data-ranges-options="style.fill.color" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n            </div>\n            <div class="style-col-2">\n              <span>Opacidad:</span>\n              <input data-apply-range value="{{opacity}}" min="0" step="0.1" type="number" data-ranges-options="style.fill.opacity" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n            </div>\n          </div>\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Borde:</span>\n              <input data-apply-range type="color" value="{{stroke}}" data-ranges-options="style.stroke.color" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n            </div>\n            <div class="style-col-2">\n              <span>Ancho:</span>\n              <input data-apply-range value="{{width}}" type="number" min="1" data-ranges-options="style.stroke.width" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n            </div>\n          </div>\n\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Radio:</span>\n              <input data-apply-range value="{{#if radius}}{{radius}}{{/if}}{{#unless radius}}10{{/unless}}" type="number" min="1" data-ranges-options="style.radius" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n            </div>\n          </div>\n        </div>\n        {{/each}} {{#pages}}\n        <div class="m-hidden" data-page="{{id}}">\n          <div class="subtitle">Rango {{id}}</div>\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Desde:</span>\n              <input value="{{min}}" type="number" min="0" data-ranges-options="minRange" data-ranges-id="{{id}}">\n            </div>\n            <div class="style-col-2">\n              <span>Hasta:</span>\n              <input value="{{max}}" type="number" min="0" data-ranges-options="maxRange" data-ranges-id="{{id}}">\n            </div>\n          </div>\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Relleno:</span>\n              <input type="color" value="{{fill}}" data-ranges-options="style.fill.color" data-ranges-id="{{id}}">\n            </div>\n            <div class="style-col-2">\n              <span>Opacidad:</span>\n              <input value="1" step="0.1" type="number" min="0" data-ranges-options="style.fill.opacity" data-ranges-id="{{id}}">\n            </div>\n          </div>\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Borde:</span>\n              <input type="color" value="{{stroke}}" data-ranges-options="style.stroke.color" data-ranges-id="{{id}}">\n            </div>\n            <div class="style-col-2">\n              <span>Ancho:</span>\n              <input value="2" type="number" min="1" data-ranges-options="style.stroke.width" data-ranges-id="{{id}}">\n            </div>\n          </div>\n\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Radio:</span>\n              <input value="10" type="number" min="1" data-ranges-options="style.radius" data-ranges-id="{{id}}">\n            </div>\n          </div>\n        </div>\n        {{/pages}}\n      </div>\n\n      <div class="m-pagination" data-parent-pagination>\n        <ul>\n          {{#each ranges}}\n          <li data-page-selector="{{#sum @index 1}}{{/sum}}" {{#eq @index 0}} data-page-active class="m-page-active" {{/eq}}>{{#sum @index 1}}{{/sum}}</li>\n          {{/each}} {{#each pages}}\n          <li data-page-selector="{{id}}" class="m-hidden">{{id}}</li>\n          {{/each}}\n\n        </ul>\n      </div>\n\n    </div>\n  </div>\n  \x3c!-- Vendor Options --\x3e\n  <div class="styles-row" data-id="options">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n        <div class="style-col-1 input-reverse">\n          <span>Envoltura</span>\n          <input type="checkbox" data-style-options="hoveInteraction" {{#if hoverInteraction}}checked{{/if}}>\n        </div>\n        <div class="style-col-2 input-reverse">\n          <span>Cantidad</span>\n          <input type="checkbox" data-style-options="displayAmount" {{#if displayAmount}}checked{{/if}}>\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1 input-reverse">\n          <span>Seleccionable</span>\n          <input type="checkbox" data-style-options="selectInteraction" {{#if selectInteraction}}checked{{/if}}>\n        </div>\n        <div class="style-col-2 input-reverse">\n          <span>Animado</span>\n          <input type="checkbox" data-style-options="animated" {{#if animated}}checked{{/if}}>\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Distancia:</span>\n          <input type="number" min="1" data-style-options="distance" value="{{distance}}">\n        </div>\n        <div class="style-col-2">\n          <span>Puntos:</span>\n          <input type="number" min="1" data-style-options="maxFeaturesToSelect" value="{{maxFeaturesToSelect}}">\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Distancia de abanico:</span>\n          <input type="number" min="1" data-style-options="distanceSelectFeatures" value="{{distanceSelectFeatures}}">\n        </div>\n        <div class="style-col-2">\n          <span>Color de texto:</span>\n          <input type="color" data-style-options="label.color" value="{{label.color}}">\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>'},function(e,t){e.exports='<div data-role="m-choropleth" class="m-stylemanager-simple-section m-hidden m-choropleth">\n  <div class="styles-row">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Atributos:</span>\n          <select data-options="attributeName">\n            {{#each attributes}}\n            <option value="{{this.name}}" {{#eq this.name this.selected}} selected {{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n      </div>\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Algoritmo:</span>\n          <select data-options="quantification">\n            <option value="JENKS" {{#eq quantification "jenks"}}selected{{/eq}}>Jenks</option>\n            <option value="QUANTILE" {{#eq quantification "quantile"}}selected{{/eq}}>Quantile</option>\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Rangos:</span>\n          <input type="number" min="2" data-number-ranges data-options="ranges" value="{{ranges}}">\n        </div>\n      </div>\n      <div class="subtitle">Rampa de color</div>\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Inicial:</span>\n          <input type="color" data-array-options="colors" value="{{startColor}}">\n        </div>\n        <div class="style-col-2">\n          <span>Final:</span>\n          <input type="color" data-array-options="colors" value="{{endColor}}">\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div data-role="m-category" class="m-stylemanager-simple-section m-category m-hidden">\n  <div class="styles-row">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Atributo:</span>\n          <select data-options="attributeName">\n          {{#each attributes}}\n            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n          {{/each}}\n        </select>\n        </div>\n      </div>\n\n      <div class="container-table" data-options="values">\n\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div data-role="m-heatmap" class="m-stylemanager-simple-section m-hidden m-heatmap">\n  <div class="styles-row">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Atributo:</span>\n          <select data-options="attributeName">\n        {{#each attributes}}\n          <option value="{{this.name}}"{{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n        {{/each}}\n      </select>\n        </div>\n      </div>\n      <div class="group-row">\n        <div class="style-col-1" >\n          <span>Gradiente:</span>\n          <div class="m-grid" data-parent="gradient">\n          {{#each gradient}}\n          <div class="m-removable-input-color">\n            <input type="color" data-array-options="gradient" value="{{this}}">\n            <span class="m-close"></span>\n          </div>\n          {{/each}}\n        </div>\n        </div>\n        <div class="style-col-2">\n          <span></span>\n          <button data-add class="m-add-gradient m-button-styles">Añadir color</button>\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span for="">Difuminado:</span>\n          <input type="number" data-style-options="blur" min="1" value="{{blur}}">\n        </div>\n\n        <div class="style-col-2">\n          <span for="">Radio:</span>\n          <input type="number" data-style-options="radius" min="1" value="{{radius}}">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div data-role="m-chart" class="m-stylemanager-simple-section m-chart m-hidden">\n  <div class="styles-row m-stylechart">\n    <div class="title">Opciones</div>\n\n    <div class="group-row">\n      <div class="style-col-1">\n        <span>Tipo:</span>\n        <select data-style-options="type">\n          <option value="pie" {{#eq type "pie"}}selected {{/eq}}>Tarta</option>\n          <option value="pie3D" {{#eq type "pie3D"}}selected {{/eq}}>Tarta 3D</option>\n          <option value="donut" {{#eq type "donut"}}selected {{/eq}}>Donut</option>\n          <option value="bar" {{#eq type "bar"}}selected {{/eq}}>Gráfico</option>\n        </select>\n      </div>\n\n      <div class="style-col-2">\n        <span>Color:</span>\n        <select data-style-options="scheme">\n          <option value="Classic" {{#eq scheme "Classic"}}selected {{/eq}}>Clásico</option>\n          <option value="Dark" {{#eq scheme "Dark"}}selected {{/eq}}>Oscuro</option>\n          <option value="Pale" {{#eq scheme "Pale"}}selected {{/eq}}>Pálido</option>\n          <option value="Pastel" {{#eq scheme "Pastel"}}selected {{/eq}}>Neón</option>\n          <option value="Neon" {{#eq scheme "Neon"}}selected {{/eq}}>Pastel</option>\n        </select>\n      </div>\n    </div>\n\n    <div class="group-row">\n      <div class="style-col-1">\n        <span>Eje X:</span>\n        <input type="number" value="{{offsetX}}" data-style-options="offsetX">\n      </div>\n\n      <div class="style-col-2">\n        <span>Eje Y:</span>\n        <input type="number" value="{{offsetY}}" data-style-options="offsetY">\n      </div>\n    </div>\n\n    <div class="group-row">\n      <div class="style-col-1 {{#eq type \'bar\'}}m-hidden{{/eq}}" data-type="donut,pie,pie3D">\n        <span>Radio:</span>\n        <input type="number" min="1" value="{{radius}}" data-style-options="radius">\n      </div>\n\n      <div class="style-col-2 {{#neq type \'donut\'}}m-hidden{{/neq}}" data-type="donut">\n        <span>Radio de donut:</span>\n        <input type="number" min="0" value="6" data-style-options="donutRadio">\n      </div>\n    </div>\n\n    <div class="group-row">\n      <div class="style-col-1 {{#neq type \'pie3D\'}}m-hidden{{/neq}}" data-type="pie3D">\n        <span>Color 3D:</span>\n        <input type="color" value="#ff00f0" data-style-options="fill3DColor">\n      </div>\n    </div>\n\n  </div>\n  <div class="styles-row m-stylechart">\n    <div class="title">Atributos</div>\n    <div class="group-row">\n\n      <div class="style-col-1">\n        <span>Atributo:</span>\n        <select data-attribute>\n\n        </select>\n      </div>\n\n      <div class="style-col-2">\n        <span></span>\n        <button data-add class="m-add-gradient m-button-styles">Añadir atributo</button>\n      </div>\n    </div>\n    <div class="m-chart-variables" data-variables>\n    </div>\n\n    <div class="m-pagination" data-pagination>\n    </div>\n\n  </div>\n</div>\n'},function(e,t){e.exports='<div>\n  {{#each buttonsParams}}\n  <input data-apply="{{id}}" type="checkbox" class="m-input" id="{{id}}">\n  <label data-selector="{{id}}" for="{{id}}" class="submenu-check check-selected"></label>\n  <label data-label="{{id}}" class="submenu-label">{{name}}</label>\n  {{/each}}\n</div>\n'},function(e,t){e.exports='<div>\n  {{#each buttonsParams}}\n  <input data-apply="{{id}}" type="checkbox" class="m-input" id="cat-{{id}}">\n  <label data-selector="{{id}}" for="cat-{{id}}" class="submenu-check check-selected"></label>\n  <label data-label="{{id}}" class="submenu-label">{{name}}</label> {{/each}}\n</div>\n'},function(e,t){e.exports='<div data-category-section>\n  <div class="styles-row m-hidden m-simple-category" data-id="fill">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input data-style-options="fill.color" type="color" value="{{fill.color}}">\n        </div>\n\n        <div class="style-col-2">\n          <span>Opacidad:</span>\n          <input data-style-options="fill.opacity" type="number" value="{{fill.opacity}}" min="0" step="0.1" max="1">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="point">\n        <div class="style-col-1">\n          <span>Radio:</span>\n          <input data-style-options="radius" type="number" value="{{radius}}" min="1" max="60">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="line">\n        <div class="style-col-1">\n          <span>Ancho:</span>\n          <input value="{{fill.width}}" type="number" data-style-options="fill.width">\n        </div>\n      </div>\n      \x3c!-- Polygon Pattern --\x3e\n      <div class="subtitle" data-geometry="polygon">Opciones de patrón</div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1 input-reverse">\n          <span>Patrón</span>\n          <input data-apply="fill.pattern" type="checkbox" {{#if patternflag }}checked{{/if}}>\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Tipo:</span>\n          <select data-style-options="fill.pattern.name">\n          {{#each patternlist}}\n          <option value="{{#lowercase this.name}}{{/lowercase}}" {{#eq this.name this.selected}} selected {{/eq}}>{{this.name}}</option>\n          {{/each}}\n        </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Color:</span>\n          <input value="{{fill.pattern.color}}" type="color" data-style-options="fill.pattern.color">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Tamaño:</span>\n          <input value="{{fill.pattern.size}}" type="number" min="1" max="100" data-style-options="fill.pattern.size">\n        </div>\n\n        <div class="style-col-2">\n          <span>Espacio:</span>\n          <input value="{{fill.pattern.spacing}}" type="number" min="1" max="100" data-style-options="fill.pattern.spacing">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Rotación:</span>\n          <input value="{{fill.pattern.rotation}}" type="number" min="0" max="360" step="1" data-style-options="fill.pattern.rotation">\n        </div>\n\n        <div class="style-col-2">\n          <span>Escala:</span>\n          <input value="{{fill.pattern.scale}}" type="number" min="1" max="30" data-style-options="fill.pattern.scale">\n        </div>\n      </div>\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Offset:</span>\n          <input value="{{fill.pattern.offset}}" type="number" min="1" data-style-options="fill.pattern.offset">\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Stroke options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="stroke">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input value="{{stroke.color}}" type="color" data-style-options="stroke.color">\n        </div>\n\n        <div class="style-col-2">\n          <span>Ancho:</span>\n          <input value="{{stroke.width}}" type="number" value="2" min="1" data-style-options="stroke.width">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Linedash:</span>\n          <input value="{{#get 0 stroke.linedash}}{{/get}}" type="number" data-target="stroke.linedash" data-style-options="stroke.linedash">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 stroke.linedash}}{{/get}}" type="number" data-id="stroke.linedash">\n        </div>\n\n        <div class="style-col-2">\n          <span>Linedash Offset:</span>\n          <input type="number" value="{{stroke.linedashoffset}}" data-style-options="stroke.linedashoffset">\n        </div>\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Line Cap</span>\n          <select data-style-options="stroke.linecap">\n        <option value="">Ninguno</option>\n        {{#each linecapstroke}}\n        <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n        {{/each}}\n      </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Line Join</span>\n          <select data-style-options="stroke.linejoin">\n        <option value="">Ninguno</option>\n        {{#each linejoinstroke}}\n        <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}> {{this.name}}</option>\n        {{/each}}\n      </select>\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Label options --\x3e\n  <div class="styles-row m-hidden m-simple-category m-label-option" data-id="label">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Color</span>\n          <input value="{{label.fill.color}}" type="color" data-style-options="label.color" value="#0d5cdc">\n        </div>\n\n        <div class="style-col-2">\n          <span>Texto:</span>\n          <select data-style-options="label.text">\n          {{#each featuresAttr}}\n          <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n          {{/each}}\n        </select>\n        </div>\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Fuente:</span>\n          <select data-font-family>\n        <option value="serif">Serif</option>\n        <option value="sans-serif">Sans-Serif</option>\n        <option value="mono">Mono</option>\n      </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Tamaño:</span>\n          <input data-font-size type="number" min="1" value="12">\n        </div>\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Alineación horizontal:</span>\n          <select data-style-options="label.align">\n        {{#each alignlist}}\n          <option value="{{this.name}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n        {{/each}}\n        </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Alineación vertical:</span>\n          <select data-style-options="label.baseline">\n        {{#each baselinelist}}\n          <option value="{{this.name}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n        {{/each}}\n        </select>\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Rotar</span>\n          <input {{#if label.rotate}}checked{{/if}} type="checkbox" data-style-options="label.rotate">\n        </div>\n\n        <div class="style-col-2">\n          <span>Rotación:</span>\n          <input value="{{label.rotation}}" type="number" step="0.1" data-style-options="label.rotation">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Escala:</span>\n          <input value="{{label.scale}}" type="number" max="3" min="0" step="0.1" value="2" data-style-options="label.scale">\n        </div>\n\n        <div class="style-col-2">\n          <span>Offset:</span>\n          <input value="{{#get 0 label.offset}}{{/get}}" type="number" data-target="label.offset" data-style-options="label.offset">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 label.offset}}{{/get}}" type="number" data-id="label.offset">\n        </div>\n\n      </div>\n\n      \x3c!-- TextPath Options --\x3e\n\n      <div class="group-row" data-geometry="line">\n\n        <div class="style-col-1 input-reverse">\n          <span>Ajustar</span>\n          <input {{#if label.path}}checked{{/if}} type="checkbox" data-style-options="label.path">\n        </div>\n\n        <div class="style-col-2">\n          <span>Ancho Mínimo:</span>\n          <input value="{{label.minwidth}}" type="number" min="1" max="200" value="10" data-style-options="label.minwidth" data-textpath {{#unless label.path}}disabled{{/unless}}>\n        </div>\n\n      </div>\n\n      <div class="group-row" data-geometry="line">\n\n        <div class="style-col-1 input-reverse">\n          <span>Suavizar</span>\n          <input {{#if label.smooth}}checked{{/if}} type="checkbox" data-style-options="label.smooth" data-textpath {{#unless label.path}}disabled{{/unless}}>\n        </div>\n\n        <div class=style-col-2>\n          <span>Desbordar:</span>\n          <select data-style-options="label.textoverflow" data-textpath {{#unless label.path}}disabled{{/unless}}>\n        <option value="hidden">Oculto</option>\n        <option value="visible">Visible</option>\n        <option value="ellipsis">Puntos suspensivos</option>\n      </select>\n        </div>\n\n      </div>\n\n      \x3c!-- Stroke Label --\x3e\n      <div class="subtitle">Trazo de etiqueta:</div>\n      <div class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Trazo</span>\n          <input type="checkbox" data-apply="label.stroke" {{#neq label.stroke.color \'no-color\'}}checked{{/neq}}>\n        </div>\n\n      </div>\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input type="color" data-style-options="label.stroke.color" {{#neq label.stroke.color \'no-color\'}}value="{{label.stroke.color}}" {{/neq}}>\n        </div>\n\n        <div class="style-col-2">\n          <span>Ancho:</span>\n          <input value="{{label.stroke.width}}" type="number" value="2" max="15" min="1" data-style-options="label.stroke.width">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Line Dash:</span>\n          <input value="{{#get 0 label.stroke.linedash}}{{/get}}" type="number" data-target="label.stroke.linedash" data-style-options="label.stroke.linedash" data-format="array">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 label.stroke.linedash}}{{/get}}" type="number" data-id="label.stroke.linedash">\n        </div>\n\n        <div class="style-col-2">\n          <span>Line Dash Offset:</span>\n          <input type="number" value="{{label.stroke.linedashoffset}}" data-style-options="label.stroke.linedashoffset">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Line Cap:</span>\n          <select data-style-options="label.stroke.linecap">\n          {{#each linecaplabelstroke}}\n          <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n          {{/each}}\n        </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Line Join:</span>\n          <select data-style-options="label.stroke.linejoin">\n          {{#each linejoinlabelstroke}}\n          <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n          {{/each}}\n        </select>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n  \x3c!-- Icon Options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="icon">\n    <div class="title">Opciones</div>\n\n    <div class="m-styles-body">\n\n\n      \x3c!-- Point Icon --\x3e\n      <div data-pointicon class="group-row">\n\n        <div class="style-col-1">\n          <span>URL</span>\n          <input value="{{icon.src}}" type="url" data-style-options="src.src">\n        </div>\n        <div class="style-col-2">\n          <span>Tamaño:</span>\n          <input {{#if icon.size}}value="{{#get 0 icon.size}}{{/get}}" {{/if}} type="number" data-undefined data-target="size" data-style-options="src.size">\n          <span class="empty">&nbsp;</span>\n          <input {{#if icon.size}}value="{{#get 1 icon.size}}{{/get}}" {{/if}} type="number" data-undefined data-id="size">\n        </div>\n\n\n      </div>\n\n      <div data-pointicon class="group-row">\n\n\n        <div class="style-col-2 input-reverse m-hidden">\n          <span>Snap to pixel</span>\n          <input {{#if icon.snaptopixel}}checked{{/if}} type="checkbox" data-style-options="src.snaptopixel">\n        </div>\n\n      </div>\n\n      <div data-pointicon class="group-row">\n\n        <div class="style-col-1">\n          <span>Anclaje:</span>\n          <input value="{{#get 0 icon.anchor}}{{/get}}" type="number" data-target="anchor" data-style-options="src.anchor">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 icon.anchor}}{{/get}}" type="number" data-id="anchor">\n        </div>\n\n        <div class="style-col-2">\n          <span>Escala:</span>\n          <input value="{{icon.scale}}" type="number" data-style-options="src.scale" max="3" min="0" step="0.1">\n        </div>\n      </div>\n\n\n\n      \x3c!-- Common --\x3e\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1">\n          <span>Offset:</span>\n          <input value="{{#get 0 icon.offset}}{{/get}}" type="number" data-target="icon-offset" data-style-options="src.offset">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 icon.offset}}{{/get}}" type="number" data-id="icon-offset" />\n        </div>\n\n        <div class="style-col-2">\n          <span>Opacidad:</span>\n          <input value="{{icon.opacity}}" type="number" step="0.1" min=0 max=1 data-style-options="src.opacity">\n        </div>\n      </div>\n\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Rotar</span>\n          <input {{#if icon.rotate}}checked {{/if}} type="checkbox" data-style-options="src.rotate">\n        </div>\n\n        <div class="style-col-2">\n          <span>Rotación:</span>\n          <input value="{{icon.rotation}}" type="number" min=0 max=360 data-style-options="src.rotation">\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n\n  \x3c!-- Form Options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="form">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      \x3c!-- Point Font --\x3e\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input type="color" data-style-options="form.fill" value="{{icon.fill}}">\n        </div>\n\n      </div>\n\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1">\n          <span>Forma:</span>\n          <select data-style-options="form.form">\n        {{#each formlist}}\n        <option value="{{this.id}}"{{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n        {{/each}}\n      </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Fuente:</span>\n          <select data-style-options="form.class">\n        <option value="">None</option>\n        <option value="g-cartografia-alerta" selected>Alerta</option>\n        <option value="g-cartografia-escala">Escala</option>\n        <option value="g-cartografia-cancelar">Cancelar</option>\n        <option value="g-cartografia-bandera">Bandera</option>\n        <option value="g-cartografia-brujula">Brujula</option>\n        <option value="g-cartografia-editar">Editar</option>\n      </select>\n        </div>\n\n      </div>\n\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1">\n          <span>Radio</span>\n          <input type="number" min="1" max="100" value="20" data-style-options="form.radius" value="{{icon.radius}}">\n        </div>\n\n        <div class="style-col-2">\n          <span>Tamaño:</span>\n          <input type="number" step="0.1" min=0 max=100 data-style-options="form.fontsize" value="{{icon.fontsize}}">\n        </div>\n\n\n      </div>\n\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Gradiente</span>\n          <input type="checkbox" data-style-options="form.gradient" {{#if icon.gradient}}checked{{/if}}>\n        </div>\n\n        <div class="style-col-2">\n          <span>Trazo:</span>\n          <input type="color" data-style-options="form.gradientcolor" value="{{icon.gradientcolor}}">\n        </div>\n      </div>\n\n      \x3c!-- Common --\x3e\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1">\n          <span>Offset:</span>\n          <input value="{{#get 0 icon.offset}}{{/get}}" type="number" data-target="form-offset" data-style-options="form.offset">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 icon.offset}}{{/get}}" type="number" data-id="form-offset" />\n        </div>\n\n        <div class="style-col-2">\n          <span>Opacidad:</span>\n          <input value="{{icon.opacity}}" type="number" step="0.1" min=0 max=1 data-style-options="form.opacity">\n        </div>\n      </div>\n\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Rotar</span>\n          <input {{#if icon.rotate}}checked {{/if}} type="checkbox" data-style-options="form.rotate">\n        </div>\n\n        <div class="style-col-2">\n          <span>Rotación:</span>\n          <input value="{{icon.rotation}}" type="number" min=0 max=360 data-style-options="form.rotation">\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div>\n\n  <div class="subtitle m-hidden" data-target="{{attribute}}" data-delete="{{attribute}}">Variable: {{attribute}} <span data-remove="{{attribute}}" class="m-icon-remove"><i class="g-cartografia-papelera 2x"></i></span></div>\n  <div class="group-row m-hidden" data-target="{{attribute}}" data-delete="{{attribute}}">\n\n    <div class="style-col-1">\n      <span>Leyenda:</span>\n      <input data-variable-option="{{attribute}}.legend" type="text" value="{{legend}}">\n    </div>\n\n    <div class="style-col-2 input-reverse">\n      <span>Mostrar etiqueta</span>\n      <input type="checkbox" data-variable-option="{{attribute}}.labelshow" {{#if label}} checked {{/if}}>\n    </div>\n\n  </div>\n\n  <div data-label-target="{{attribute}}" data-delete="{{attribute}}" class="{{#unless label}}m-hidden{{/unless}}">\n\n    <div class="group-row m-hidden" data-target="{{attribute}}">\n\n      <div class="style-col-1">\n        <span>Relleno:</span>\n        <input data-variable-option="{{attribute}}.label.fill" type="color" value="{{label.fill}}">\n      </div>\n\n      <div class="style-col-2">\n        <span>Tamaño:</span>\n        <input data-variable-option="{{attribute}}.label.scale" type="number" min="1" value="{{label.scale}}">\n      </div>\n\n    </div>\n\n    <div class="group-row m-hidden" data-target="{{attribute}}">\n\n      <div class="style-col-1">\n        <span>Borde:</span>\n        <input type="color" data-variable-option="{{attribute}}.label.stroke.color" value="{{label.stroke.color}}">\n      </div>\n\n      <div class="style-col-2">\n        <span>Grosor:</span>\n        <input type="number" data-variable-option="{{attribute}}.label.stroke.width" min="1" value="{{label.stroke.width}}">\n      </div>\n    </div>\n\n    <div class="group-row m-hidden" data-target="{{attribute}}">\n\n      <div class="style-col-1">\n        <span>Espacio:</span>\n        <input data-variable-option="{{attribute}}.label.radiusIncrement" type="number" value="{{label.radiusIncrement}}">\n      </div>\n    </div>\n  </div>\n  <div class="group-row m-hidden" data-target="{{attribute}}">\n  </div>\n</div>\n'},function(e,t){e.exports='<div>\n  <ul>\n    {{#each ranges}}\n    <li data-page-selector="{{this.attribute}}">{{this.number}}</li>\n    {{/each}}\n  </ul>\n</div>\n'},function(e,t){e.exports='<div>\n  {{#each attributes}}\n  <option value="{{this}}">{{this}}</option>\n  {{/each}}\n</div>\n'},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(17);var a=n(4),i=n.n(a);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).call(this))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,M.impl.Control),n=t,(a=[{key:"addTo",value:function(e,n){l(c(t.prototype),"addTo",this).call(this,e,n)}},{key:"activate",value:function(){M.dialog.info("Hello World!")}},{key:"deactivate",value:function(){M.dialog.info("Bye World!")}}])&&r(n.prototype,a),i&&r(n,i),t}(),p=n(1),f=n.n(p),h=n(5),y=n.n(h),v=n(6),b=n.n(v),m=n(7),g=n.n(m),k=n(8),S=n.n(k),_=n(9),O=n.n(_),w=n(10),E=n.n(w),P=n(0),L=n(11),x=n.n(L),A=n(2),T=n.n(A);function q(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var N=function(){function e(t,n,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.htmlParent_=n,this.htmlTemplate_=null,this.html_=t,this.activated_=!0,this.selected_=!1,this.disabled_=!1,this.layer_=o,this.activateButton_=n.querySelector('[data-role="botonera"] [data-flap="'.concat(a,'"]')),this.selectButton_=n.querySelector('[data-role="botonera"] [data-checkbox="'.concat(a,'"]')),this.style_=i,this.styleType_=a,this.compilePromise_=this.initializeView(this.html_,this.htmlParent_)}var t,n,a;return t=e,a=[{key:"createObj",value:function(t,n,a){var i=M.utils.isArray(n)?n:n.split("."),o=i.length,r=i[0];1===o?(M.utils.isArray(a)?a=q(a):M.utils.isObject(a)&&(a=Object.assign({},a)),t[r]=a):o>1&&(M.utils.isNullOrEmpty(t[r])&&(t[r]={}),e.createObj(t[r],i.slice(1,o),a))}}],(n=[{key:"compileTemplate",value:function(e,t){return new Promise(function(n){n(M.template.compileSync(e,{vars:t}))})}},{key:"getCompilePromise",value:function(){return this.compilePromise_}},{key:"initializeView",value:function(e,t){var n=this,a=this.getOptionsTemplate();return this.compileTemplate(e,a).then(function(e){t.appendChild(e),n.htmlTemplate_=e})}},{key:"getOptionsTemplate",value:function(){}},{key:"addTemplate",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.compileTemplate(e,n).then(function(e){t.innerHTML=e.innerHTML,"function"==typeof a&&a()})}},{key:"appendTemplate",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.compileTemplate(e,n).then(function(e){t.appendChild(e),"function"==typeof a&&a()})}},{key:"generateOptions",value:function(){var t={options:{},ranges:{}};return this.querySelectorAllForEach("[data-options]",function(e){var n=e.dataset.options,a=e.value;"checkbox"===e.type&&(a=e.checked),"number"===e.type&&(a=parseFloat(a)),t[n]=a}),this.querySelectorAllForEach("[data-style-options]",function(e){var n=e.dataset.styleOptions,a=e.value;"checkbox"===e.type&&(a=e.checked),"number"===e.type&&(a=parseFloat(a)),t.options[n]=a}),this.querySelectorAllForEach("[data-array-options]",function(e){var n=e.dataset.arrayOptions,a=e.value;M.utils.isArray(t.options[n])||(t.options[n]=[]),t.options[n].push(a)}),this.querySelectorAllForEach("[data-ranges-id]",function(n){var a=n.dataset.rangesId;null==t.ranges[a]&&(t.ranges[a]={});var i=n.dataset.rangesOptions,o=n.value;"number"===n.type&&(o=parseFloat(o)),e.createObj(t.ranges[a],i,o)}),t}},{key:"setActivated",value:function(e){this.activated_=e,!0===e&&(this.activateButton_.classList.replace("check-selected","check-active"),this.unhide()),!1===e&&(this.activateButton_.classList.replace("check-active","check-selected"),this.hide())}},{key:"setSelected",value:function(e){this.selected_=e,this.selectButton_.checked=e}},{key:"setDisabled",value:function(e){this.disabled_=e,this.selectButton_.disabled=e,!0===e&&(this.activateButton_.classList.add("check-inactive"),this.setSelected(!e),this.setActivated(!e),this.hide()),!1===e&&this.activateButton_.classList.remove("check-inactive")}},{key:"hide",value:function(){return this.getTemplate().classList.add("m-hidden"),this}},{key:"unhide",value:function(){return this.getTemplate().classList.remove("m-hidden"),this}},{key:"getTemplate",value:function(){return this.htmlTemplate_}},{key:"getParentTemplate",value:function(){return this.htmlParent_}},{key:"querySelector",value:function(e){return this.getTemplate().querySelector(e)}},{key:"querySelectorAll",value:function(e){return this.getTemplate().querySelectorAll(e)}},{key:"querySelectorAllForEach",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Array.prototype.forEach.apply(this.querySelectorAll(e),[t,n])}},{key:"querySelectorAllMap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Array.prototype.map.apply(this.querySelectorAll(e),[t,n])}},{key:"querySelectorParent",value:function(e){return this.getParentTemplate().querySelector(e)}},{key:"querySelectorAllParent",value:function(e){return this.getParentTemplate().querySelectorAll(e)}},{key:"querySelectorAllForEachParent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Array.prototype.forEach.apply(this.querySelectorAllParent(e),[t,n])}},{key:"querySelectorAllMapParent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Array.prototype.map.apply(this.querySelectorAllParent(e),[t,n])}},{key:"setLayer",value:function(e){return this.layer_=e,this}},{key:"getActivateButton",value:function(){return this.activateButton_}},{key:"getSelectButton",value:function(){return this.selectButton_}},{key:"setIntegerAttributes",value:function(){var e=this;if(this.layer_ instanceof M.layer.Vector){var t=this.filterAttributesFeature("number").map(function(e){return{name:e}}),n=this.getTemplate().querySelector("[data-options='attributeName']");this.compileTemplate(T.a,{attributes:t}).then(function(a){n.innerHTML=a.innerHTML,0===t.length?e.deactivateBinding():e.activateBinding()})}}},{key:"filterAttributesFeature",value:function(e){var t=this.getAllFeaturesAttributes(),n=Object.keys(t);switch(e){case"string":n=n.filter(function(e){return isNaN(parseFloat(t[e]))});break;case"number":n=n.filter(function(e){return!isNaN(parseFloat(t[e]))})}return n}},{key:"getFeaturesAttributes",value:function(){return this.layer_.getFeatures()[0].getAttributes()}},{key:"getAllFeaturesAttributes",value:function(){var e=this.getFeaturesAttributes();return this.layer_.getFeatures().reverse().forEach(function(t){Object.keys(t.getAttributes()).forEach(function(t,n){null!=n&&null==e[t]&&(e[t]=n)})}),e}},{key:"hideAllOptionsSections",value:function(){this.querySelectorAllForEach(".styles-row",function(e){e.classList.add("m-hidden")})}},{key:"hideOptionSection",value:function(e){this.querySelector("[data-id=".concat(e,"]")).classList.add("m-hidden")}},{key:"showOptionSection",value:function(e){this.querySelector("[data-id=".concat(e,"]")).classList.remove("m-hidden")}},{key:"addInputListener",value:function(e){this.querySelectorAllForEach("input",function(t){t.addEventListener("change",e)}),this.querySelectorAllForEach("select",function(t){t.addEventListener("change",e)})}},{key:"deactivateBinding",value:function(){this.querySelectorAllForEach("input,select:not([data-options='attributeName']),label,span,.subtitle",function(e){e.classList.add("m-hidden")}),this.querySelector("[data-options='attributeName']").disabled=!0;var e=document.createElement("option");e.value="",e.innerText="No existen atributos",this.querySelector("[data-options='attributeName']").add(e),this.querySelector("span").classList.remove("m-hidden")}},{key:"activateBinding",value:function(){this.querySelectorAllForEach("input,select:not([data-options='attributeName']),label,span,.subtitle",function(e){e.classList.remove("m-hidden")}),this.querySelector("[data-options='attributeName']").disabled=!1}},{key:"destroy",value:function(){this.htmlParent_.removeChild(this.htmlTemplate_)}}])&&C(t.prototype,n),a&&C(t,a),e}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(e,n,a,i,o,r){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(s=R(this,B(t).call(this,e,n,a,i,o))).controller_=r,s}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,N),n=t,i=[{key:"arrayDataToTemplate",value:function(e,t,n){return t.map(function(t,a){return{id:t,name:n[a],selected:e}})}},{key:"RADIUS_OPTION",get:function(){return 10}},{key:"ICON_RADIUS_OPTION",get:function(){return 10}},{key:"OPTIONS_POINT_SUBMENU",get:function(){return[{id:"fill",name:"Relleno"},{id:"stroke",name:"Trazo"},{id:"label",name:"Etiqueta"},{id:"icon",name:"Icono"},{id:"form",name:"Fuente"}]}},{key:"OPTIONS_SUBMENU",get:function(){return[{id:"fill",name:"Relleno"},{id:"stroke",name:"Trazo"},{id:"label",name:"Etiqueta"}]}},{key:"GEOMETRIES",get:function(){return["point","line","polygon"]}},{key:"DEFAULT_OPTIONS_STYLE",get:function(){var e;return{radius:10,fill:{color:"#e5008a",opacity:1,width:2,pattern:{color:"red",name:"HATCH",size:1,spacing:2,scale:3,offset:5,rotation:0}},stroke:{color:"#000000",width:2,linedash:[0,0],linedashoffset:0,linecap:"none",linejoin:"none"},label:{fill:{color:"#ff0000"},stroke:{color:"no-color",width:2,linedash:[0,0],linedashoffset:0,linecap:"none",linejoin:"none"},scale:2,text:"Texto de prueba",font:"14px serif",align:"center",baseline:"top",rotate:!1,rotation:0,offset:[0,0]},icon:(e={src:"",form:"",size:[40,40],anchor:[0,0],scale:1,offset:[0,0],rotation:0,opacity:1},F(e,"form","CIRCLE"),F(e,"fill","#ffffff"),F(e,"gradientcolor","#e07e18"),e)}}}],(a=[{key:"setLayer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.layer_=e,!0===t&&this.refreshTemplate(),this}},{key:"setGeometry",value:function(e){return t.GEOMETRIES.includes(e)?this.geometry_=e:this.geometry_="point",this}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"refreshTemplate",value:function(){var e=this,n=this.getGeometry();t.GEOMETRIES.filter(function(e){return e!==n}).forEach(function(t){e.querySelectorAllForEach('[data-geometry="'.concat(t,'"]'),function(e){return e.classList.add("m-hidden")})}),this.querySelectorAllForEach('[data-geometry="'.concat(n,'"]'),function(e){return e.classList.remove("m-hidden")}),this.refreshOptionsButtons(),this.addLabelPathListener()}},{key:"refreshOptionsButtons",value:function(){var e=this,n=t.OPTIONS_POINT_SUBMENU;"point"!==this.getGeometry()&&(n=t.OPTIONS_SUBMENU),this.addOptionsButtons(n,function(){e.compatibleSectionListener("icon","form"),e.compatibleSectionListener("form","icon")})}},{key:"addOptionsButtons",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.getParentTemplate().querySelector("[data-buttons-option]");this.hideAllOptionsSections(),this.addTemplate(x.a,a,{buttonsParams:e},function(){e.forEach(function(e){t.toggleCheckOptionSection(e.id),t.activateOptionSection(e.id),"function"==typeof n&&n()}),t.activateOptionsStyle(),t.addEventCheckFromSubmenu()})}},{key:"addEventCheckFromSubmenu",value:function(){var e=this;this.querySelectorAllForEachParent("[data-buttons-option] input",function(t){t.addEventListener("change",function(){e.controller_.selectPanel("stylesimple")})})}},{key:"activateOptionsStyle",value:function(){var e=this.style_;if(null!=e){var t=e.getOptions();if(null!=t.fill)Object.values(t.fill).filter(function(e){return null!=e}).length>0&&this.checkOptionSection("fill");null!=t.stroke&&this.checkOptionSection("stroke"),null!=t.label&&this.checkOptionSection("label"),null!=t.icon&&(t.icon.hasOwnProperty("src")&&(this.checkOptionSection("icon"),this.disableOption("form")),t.icon.hasOwnProperty("form")&&(this.checkOptionSection("form"),this.disableOption("icon")))}}},{key:"addLabelPathListener",value:function(){var e=this,t=this.querySelector("[data-style-options='label.path']");t.addEventListener("change",function(){e.togglePathSection(!t.checked)})}},{key:"togglePathSection",value:function(e){this.querySelectorAllForEach("[data-textpath]",function(t){t.disabled=!0===e&&e})}},{key:"toggleCheckOptionSection",value:function(e){var t=this;this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]')).addEventListener("change",function(n){t.toggleCheckOptSectionListener(e,n)})}},{key:"toggleCheckOptSectionListener",value:function(e,t){!0===t.target.checked&&this.activateOption(e)}},{key:"checkOptionSection",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]'));this.activateOption(e),t.checked=!0}},{key:"activateOptionSection",value:function(e){var t=this;this.getParentTemplate().querySelector('[data-buttons-option] [data-label="'.concat(e,'"]')).addEventListener("click",function(){t.activateOption(e)})}},{key:"activateOption",value:function(e){var t=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')),n=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]'));null!=n&&!1===n.disabled&&(this.activateLabel(t),this.displaySectionOption(e))}},{key:"activateLabel",value:function(e){this.querySelectorAllForEachParent("[data-selector]",function(e){e.classList.remove("check-active"),e.classList.add("check-selected")}),e.classList.add("check-active"),e.classList.remove("check-selected")}},{key:"displaySectionOption",value:function(e){this.hideAllOptionsSections(),this.showOptionSection(e)}},{key:"generateOptions",value:function(){var e=this,t={options:{}};this.querySelectorAllForEach("[data-style-options]",function(n){var a=n.dataset.styleOptions,i=n.value;"checkbox"===n.type&&(i=n.checked),"number"===n.type&&(i=parseFloat(i),isNaN(i)&&(i=0));var o=n.dataset.target;if(void 0!==o){var r=parseFloat(e.querySelector('[data-id="'.concat(o,'"]')).value);isNaN(r)&&(r=0),i=[i,r]}N.createObj(t.options,a,i)}),this.querySelectorAllForEach("[data-apply]",function(e){var n=e.dataset.apply;!1===e.checked&&N.createObj(t.options,n,void 0)});var n,a=this.querySelector("[data-font-size]").value||12,i=this.querySelector("[data-font-family]").value,o="".concat(a,"px ").concat(i),r=document.querySelector("[data-apply='icon']"),s=null!==r&&!0===r.checked?t.options.src:t.options.form;return null!=t.options.label&&null!=t.options.label.text&&(n=t.options.label),t.options={fill:t.options.fill,stroke:t.options.stroke,label:n,icon:s,radius:t.options.radius},"line"===this.getGeometry()&&(t.options={fill:t.options.fill,stroke:t.options.stroke,label:t.options.label},delete t.options.fill.pattern,0===Object.keys(t.options.fill).length&&delete t.options.fill),"polygon"===this.getGeometry()&&(t.options={fill:t.options.fill,stroke:t.options.stroke,label:t.options.label}),null!=t.options.label&&(t.options.label.font=o),this.processOptions(t)}},{key:"processOptions",value:function(e){var t=M.utils.extends({},e),n=this.isChecked("fill"),a=this.isChecked("stroke"),i=this.isChecked("label"),o=this.isChecked("icon"),r=this.isChecked("form");return t.options.fill=!0===n?t.options.fill:void 0,t.options.stroke=!0===a?t.options.stroke:void 0,t.options.label=!0===i?t.options.label:void 0,t.options.icon=!0===o||!0===r?t.options.icon:void 0,t}},{key:"isChecked",value:function(e){var t=!1,n=this.getParentTemplate().querySelector("[data-buttons-option] input[data-apply='".concat(e,"'"));return null!=n&&(t=n.checked),t}},{key:"generateStyle",value:function(){var e;this.querySelectorAllForEach("[data-apply]",function(e){!0===e.checked&&!1});var t=this.getGeometry(),n=this.generateOptions().options;switch(t){case"point":e=new M.style.Point(n);break;case"line":e=new M.style.Line(n);break;case"polygon":e=new M.style.Polygon(n);break;default:M.dialog.error("Geometría no soportada","Error")}return e}},{key:"compatibleSectionListener",value:function(e,t){var n=this,a=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]'));null!=a&&a.addEventListener("change",function(){!0===a.checked?n.disableOption(t):n.enableOption(t)})}},{key:"disableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]')),n=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]+label'));this.hideOptionSection(e),n.classList.add("check-inactive"),n.classList.add("check-selected"),n.classList.remove("m-option-active"),t.disabled=!0,t.checked=!1}},{key:"enableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]'));this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')).classList.remove("check-inactive"),t.disabled=!1}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;null!=this.style_&&(null!=this.style_.get("fill.pattern")&&(e.patternflag=!0),e=M.utils.extends({},this.style_.getOptions()),e=M.utils.extends(e,t.DEFAULT_OPTIONS_STYLE)),e.fill.color=P(e.fill.color).hex(),e.stroke.color=P(e.stroke.color).hex(),e.label.fill.color=P(e.label.fill.color).hex(),e.label.stroke.color="no-color"===e.label.stroke.color?"no-color":P(e.label.stroke.color).hex(),e.fill.pattern.color=P(e.fill.pattern.color).hex(),e.icon.fill=P(e.icon.fill).hex(),e.icon.gradientcolor=P(e.icon.gradientcolor).hex();var n=Object.keys(M.style.pattern).filter(function(e){return"ICON"!=e&&"IMAGE"!=e}),a=Object.values(M.style.align),i=Object.values(M.style.baseline),o=Object.values(M.style.form).filter(function(e){return null!=e});if(e.patternlist=t.arrayDataToTemplate(e.fill.pattern.name,n,n),e.linecapstroke=t.arrayDataToTemplate(e.stroke.linecap,["butt","square","round"],["Extremo","Cuadrado","Redondeado"]),e.linejoinstroke=t.arrayDataToTemplate(e.stroke.linejoin,["bevel","miter","round"],["Bisel","Inglete","Redondeado"]),e.linecaplabelstroke=t.arrayDataToTemplate(e.label.stroke.linecap,["butt","square","round"],["Extremo","Cuadrado","Redondeado"]),e.linejoinlabelstroke=t.arrayDataToTemplate(e.label.stroke.linejoin,["bevel","miter","round"],["Bisel","Inglete","Redondeado"]),e.alignlist=t.arrayDataToTemplate(e.label.align,a,["Centro","Justificado","Izquierda","Derecha"]),e.baselinelist=t.arrayDataToTemplate(e.label.baseline,i,["Alfabetico","Abajo","Colgando","Ideografico","Arriba","Centro"]),e.formlist=t.arrayDataToTemplate(e.icon.form,o,o),null!=this.layer_){var r=Object.keys(this.getFeaturesAttributes()),s=null!=e.label?e.label.text:"";e.featuresAttr=t.arrayDataToTemplate(s,r.map(function(e){return"{{".concat(e,"}}")}),r)}return e}},{key:"toggleDisplaySubmenu",value:function(e){var t=!0===e?"add":"remove";this.getParentTemplate().querySelector("[data-buttons-option]").classList[t]("m-hidden")}},{key:"refreshLegend",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.imgId_,i=this.generateStyle();if(!0===n&&(i=this.style_),null!=i){(i=i.clone())instanceof M.style.Point&&(i.set("radius",t.RADIUS_OPTION),null!=i.get("icon.radius")&&i.set("icon.radius",t.ICON_RADIUS_OPTION));var o=this.htmlParent_.querySelector("img[id='img-".concat(a,"']"));i.updateCanvas();var r=i.toImage();null!=o&&(o.src=r)}}},{key:"imgId",set:function(e){this.imgId_=e},get:function(){return this.imgId_}}])&&I(n.prototype,a),i&&I(n,i),t}();function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function V(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(e,n,a,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),V(this,H(t).call(this,e,n,a,i,o))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,N),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=null;return""!=e.attributeName&&(t=new M.style.Proportional(e.attributeName,e.minRadius,e.maxRadius)),t}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;return null!=this.style_&&(e={attributeName:this.style_.getAttributeName(),minRadius:this.style_.getMinRadius(),maxRadius:this.style_.getMaxRadius()},this.setSelected(!0)),null!=this.layer_&&(e.attributes=this.getAttributes(),e.attributes.forEach(function(t){return t.selected=e.attributeName})),e}},{key:"getAttributes",value:function(){return this.filterAttributesFeature("number").map(function(e){return{name:e}})}}])&&z(n.prototype,a),i&&z(n,i),t}();function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}K.DEFAULT_OPTIONS_STYLE={attributeName:"",minRadius:12,maxRadius:25};var ee=function(e){function t(e,n,a,i,o){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=$(this,Q(t).call(this,e,n,a,i,o))).compilePromise_.then(function(){r.addEventRangeListener(),r.addPaginationListener()}),r}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,N),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this}},{key:"generateOptions",value:function(){var e={options:{},ranges:{}};return this.querySelectorAllForEach("[data-style-options]",function(t){var n=t.dataset.styleOptions,a=t.value;"checkbox"===t.type&&(a=t.checked),"number"===t.type&&(a=parseFloat(a)),"label.color"===n?(e.options.label={},e.options.label.color=a):e.options[n]=a}),this.querySelectorAllForEach("[data-ranges-id][data-apply-range]",function(t){var n=t.dataset.rangesId;null==e.ranges[n]&&(e.ranges[n]={});var a=t.dataset.rangesOptions,i=t.value;"number"===t.type&&(i=parseFloat(i)),N.createObj(e.ranges[n],a,i)}),e.ranges=Object.values(e.ranges).filter(function(e){return!isNaN(e.minRange)&&!isNaN(e.maxRange)}),e}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=J(e.ranges).map(function(e){return{min:e.minRange,max:e.maxRange,style:new M.style.Point(e.style)}});return e.options.ranges=t,new M.style.Cluster(e.options,{distanceSelectFeatures:e.options.distanceSelectFeatures})}},{key:"setRanges",value:function(){var e=this.querySelector("[data-number-ranges]"),n=parseInt(e.value);if(n>0&&n<t.NUMBER_RANGES){for(var a=1;a<n+1;a++){this.querySelector('[data-page-selector="'.concat(a,'"]')).classList.remove("m-hidden"),this.querySelectorAllForEach('[data-ranges-id="'.concat(a,'"]'),function(e){e.setAttribute("data-apply-range","")})}for(var i=n+1;i<t.NUMBER_RANGES;i++){this.querySelector('[data-page-selector="'.concat(i,'"]')).classList.add("m-hidden"),this.querySelectorAllForEach('[data-ranges-id="'.concat(i,'"]'),function(e){e.removeAttribute("data-apply-range")})}var o=this.querySelector('[data-page-selector="'.concat(n,'"]'));this.paginationListener(o)()}}},{key:"paginationListener",value:function(e){var t=this;return function(){var n=t.querySelector("[data-page-active]");if(null!=n){n.removeAttribute("data-page-active"),n.classList.remove("m-page-active");var a=n.dataset.pageSelector,i=t.querySelector("[data-page='".concat(a,"']"));null!=i&&i.classList.add("m-hidden")}if(null!=e){e.classList.add("m-page-active"),e.dataset.pageActive="";var o=e.dataset.pageSelector;t.querySelector("[data-page='".concat(o,"']")).classList.remove("m-hidden")}}}},{key:"addEventRangeListener",value:function(){this.querySelector("[data-number-ranges]").addEventListener("input",this.setRanges.bind(this))}},{key:"addPaginationListener",value:function(){var e=this;this.querySelectorAllForEach("[data-page-selector]",function(t){t.addEventListener("click",e.paginationListener(t).bind(e))})}},{key:"getOptionsTemplate",value:function(){var e=Object.assign({},t.DEFAULT_OPTIONS_STYLE);if(null!=this.style_){var n=(e=Object.assign({},this.style_.getOptions())).ranges.filter(function(e){return!isNaN(e.min)}).map(function(e){var t={},n=e.style;return t.min=e.min,t.max=e.max,t.fill=n.get("fill.color"),t.stroke=n.get("stroke.color"),t.width=n.get("stroke.width"),t.opacity=null==n.get("fill.opacity")?1:n.get("fill.opacity"),t.radius=n.get("radius"),t});e.ranges=n}var a=e.ranges.slice(-1)[0].max;return e.pages=[],function(e,t,n){for(var a=[],i=n,o=e;o<t;o++){var r=i+1,s={id:o,min:r,max:i=r+200,fill:P.random().hex(),stroke:P.random().hex()};a.push(s)}return a}(e.ranges.length+1,t.NUMBER_RANGES,a).forEach(function(t,n){e.pages.push(t)}),e}}])&&W(n.prototype,a),i&&W(n,i),t}();function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ae(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ee.NUMBER_RANGES=13,ee.DEFAULT_OPTIONS_STYLE={hoverInteraction:!0,displayAmount:!0,selectInteraction:!0,animated:!0,distance:30,label:{color:"#4dfeef"},maxFeaturesToSelect:20,distanceSelectFeatures:15,ranges:[{min:2,max:30,fill:"#ff00ff",stroke:"#00fef0",width:2,opacity:1}]};var re=function(e){function t(e,n,a,i,o){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ae(this,ie(t).call(this,e,n,a,i,o))).style_=null,r.compilePromise_.then(function(){r.removeGradientListener(),r.addGradientListener()}),r.numberAddedColors_=6,r}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,N),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this.style_=null,this}},{key:"removeGradientListener",value:function(){var e=this;this.querySelectorAllForEach(".m-removable-input-color .m-close",function(t){t.addEventListener("click",function(){t.parentElement.parentElement.removeChild(t.parentElement),e.numberAddedColors_--})})}},{key:"addGradientListener",value:function(){var e=this,n=this.querySelector("[data-parent='gradient']");this.querySelector("[data-add]").addEventListener("click",function(){e.compileTemplate("gradientheatmap.html",{}).then(function(a){e.numberAddedColors_<t.MAX_NUMBER_COLORS?(n.appendChild(a),e.setRandomColor(a),a.querySelector(".m-close").addEventListener("click",function(){a.parentElement.removeChild(a),e.numberAddedColors_--}),e.numberAddedColors_++):M.dialog.info("Ha llegado al número máximo de colores permitidos","Información")})})}},{key:"setRandomColor",value:function(e){var t=e.querySelector("input"),n=chroma.random().hex();t.value=n}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=null;return""!=e.attributeName&&(t=new M.style.Heatmap(e.attributeName,e.options)),t}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;return null!=this.style_&&(e.attribute=this.style_.getAttributeName(),e.radius=this.style_.getRadius(),e.blur=this.style_.getBlurSize(),e.gradient=this.style_.getGradient()),null!=this.layer_&&(e.attributes=this.getAttributes(),e.attributes.forEach(function(t){return t.selected=e.attribute})),e}},{key:"getAttributes",value:function(){return this.filterAttributesFeature("number").map(function(e){return{name:e}})}}])&&ne(n.prototype,a),i&&ne(n,i),t}();function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ce(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}re.DEFAULT_OPTIONS_STYLE={attribute:"",gradient:["#0000ff","#00ffff","#00ff00","#ffff00","#ffb619","#ff0000"],blur:12,radius:22},re.MAX_NUMBER_COLORS=30;var pe=function(e){function t(e,n,a,i,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ce(this,ue(t).call(this,e,n,a,i,o))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,N),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this}},{key:"setRanges",value:function(){for(var e=this.querySelector("[data-number-ranges]"),t=parseInt(e.value),n=[],a=1;a<=t;a++)n.push({number:a});var i=this.querySelector("[data-parent]");this.addTemplate("choroplethstyles.html",i,{ranges:n})}},{key:"addEventRangeListener",value:function(){this.querySelector("[data-number-ranges]").addEventListener("input",this.setRanges.bind(this))}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=e.ranges,n=e.options.colors,a="JENKS"===e.quantification?M.style.quantification.JENKS:M.style.quantification.QUANTILE,i=null;return""!=e.attributeName&&(i=new M.style.Choropleth(e.attributeName,n,a(t))),i}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;if(null!=this.style_){var n=this.style_.getChoroplethStyles()[0].get("fill.color"),a=this.style_.getChoroplethStyles().slice(-1)[0].get("fill.color");n=n||this.style_.getChoroplethStyles()[0].get("stroke.color"),a=a||this.style_.getChoroplethStyles().slice(-1)[0].get("stroke.color"),e={attribute:this.style_.getAttributeName(),ranges:this.style_.getChoroplethStyles().length,quantification:this.style_.getQuantification().name,startColor:n,endColor:a}}return null!=this.layer_&&(e.attributes=this.getAttributes(),e.attributes.forEach(function(t){return t.selected=e.attribute})),e}},{key:"getAttributes",value:function(){return this.filterAttributesFeature("number").map(function(e){return{name:e}})}}])&&le(n.prototype,a),i&&le(n,i),t}();pe.DEFAULT_OPTIONS_STYLE={attribute:"",quantification:"JENKS",ranges:4,startColor:"#F8FF25",endColor:"#4400FD"};var fe=n(12),he=n.n(fe),ye=n(13),ve=n.n(ye),be=n(3),me=n.n(be);function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _e(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e){function t(e,n,a,i,o,r){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(s=_e(this,Oe(t).call(this,e,n,a,i,o))).fill_=!1,s.stroke_=!1,s.label_=!1,s.form_=!1,s.icon_=!1,null!=i&&(s.fill_=null!=i.getOptions().fill,s.stroke_=null!=i.getOptions().stroke,s.label_=null!=i.getOptions().label,s.icon_=null!=i.get("icon.src"),s.form_=null!=i.get("icon.form")),s.binding_=r,s}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,N),n=t,i=[{key:"arrayDataToTemplate",value:function(e,t,n){return t.map(function(t,a){return{id:t,name:n[a],selected:e}})}},{key:"RADIUS_OPTION",get:function(){return 10}},{key:"ICON_RADIUS_OPTION",get:function(){return 10}},{key:"OPTIONS_POINT_SUBMENU",get:function(){return[{id:"fill",name:"Relleno"},{id:"stroke",name:"Trazo"},{id:"label",name:"Etiqueta"},{id:"icon",name:"Icono"},{id:"form",name:"Fuente"}]}},{key:"OPTIONS_SUBMENU",get:function(){return[{id:"fill",name:"Relleno"},{id:"stroke",name:"Trazo"},{id:"label",name:"Etiqueta"}]}},{key:"GEOMETRIES",get:function(){return["point","line","polygon"]}},{key:"DEFAULT_OPTIONS_STYLE",get:function(){var e;return{radius:10,fill:{color:"#e5008a",opacity:1,width:2,pattern:{color:"red",name:"HATCH",size:1,spacing:2,scale:3,offset:5,rotation:0}},stroke:{color:"#000000",width:2,linedash:[0,0],linedashoffset:0,linecap:"none",linejoin:"none"},label:{fill:{color:"#ff0000"},stroke:{color:"no-color",width:2,linedash:[0,0],linedashoffset:0,linecap:"none",linejoin:"none"},scale:2,text:"Texto de prueba",font:"14px serif",align:"center",baseline:"top",rotate:!1,rotation:0,offset:[0,0]},icon:(e={src:"",form:"",size:[40,40],anchor:[0,0],scale:1,offset:[0,0],rotation:0,opacity:1},ke(e,"form","CIRCLE"),ke(e,"fill","#ffffff"),ke(e,"gradientcolor","#e07e18"),e)}}}],(a=[{key:"setLayer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.layer_=e,!0===t&&this.refreshTemplate(),this}},{key:"getOptions",value:function(){return{fill:this.fill_,stroke:this.stroke_,label:this.label_,form:this.form_,icon:this.icon_}}},{key:"setGeometry",value:function(e){return t.GEOMETRIES.includes(e)?this.geometry_=e:this.geometry_="point",this}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"refreshTemplate",value:function(){var e=this,n=this.getGeometry();t.GEOMETRIES.filter(function(e){return e!==n}).forEach(function(t){e.querySelectorAllForEach('[data-geometry="'.concat(t,'"]'),function(e){return e.classList.add("m-hidden")})}),this.querySelectorAllForEach('[data-geometry="'.concat(n,'"]'),function(e){return e.classList.remove("m-hidden")}),this.addLabelPathListener()}},{key:"activateOptionsStyle",value:function(){var e=this.style_;if(null!=e){var t=e.getOptions();if(null!=t.fill)Object.values(t.fill).filter(function(e){return null!=e}).length>0&&this.checkOptionSection("fill");null!=t.stroke&&this.checkOptionSection("stroke"),null!=t.label&&this.checkOptionSection("label"),null!=t.icon&&(t.icon.hasOwnProperty("src")&&(this.checkOptionSection("icon"),this.disableOption("form")),t.icon.hasOwnProperty("form")&&(this.checkOptionSection("form"),this.disableOption("icon")))}}},{key:"showCompatibleSections",value:function(){this.binding_.enableOption("form"),this.binding_.enableOption("icon"),!0===this.icon_&&this.binding_.disableOption("form"),!0===this.form_&&this.binding_.disableOption("icon")}},{key:"addLabelPathListener",value:function(){var e=this,t=this.querySelector("[data-style-options='label.path']");t.addEventListener("change",function(){e.togglePathSection(!t.checked)})}},{key:"togglePathSection",value:function(e){this.querySelectorAllForEach("[data-textpath]",function(t){t.disabled=!0===e&&e})}},{key:"toggleCheckOptionSection",value:function(e){var t=this;this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]')).addEventListener("change",function(n){t.toggleCheckOptSectionListener(e,n)})}},{key:"toggleCheckOptSectionListener",value:function(e,t){!0===t.target.checked&&this.activateOption(e)}},{key:"checkOptionSection",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]'));this.activateOption(e),t.checked=!0}},{key:"activateOptionSection",value:function(e){var t=this;this.getParentTemplate().querySelector('[data-buttons-option] [data-label="'.concat(e,'"]')).addEventListener("click",function(){t.activateOption(e)})}},{key:"activateOption",value:function(e){var t=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')),n=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]'));null!=n&&!1===n.disabled&&(this.activateLabel(t),this.displaySectionOption(e))}},{key:"activateLabel",value:function(e){this.querySelectorAllForEachParent("[data-selector]",function(e){e.classList.remove("check-active"),e.classList.add("check-selected")}),e.classList.add("check-active"),e.classList.remove("check-selected")}},{key:"displaySectionOption",value:function(e){this.hideAllOptionsSections(),this.showOptionSection(e)}},{key:"generateOptions",value:function(){var e=this,t={options:{}};this.querySelectorAllForEach("[data-style-options]",function(n){var a=n.dataset.styleOptions,i=n.value;"checkbox"===n.type&&(i=n.checked),"number"===n.type&&(i=parseFloat(i),isNaN(i)&&(i=0));var o=n.dataset.target;if(void 0!==o){var r=parseFloat(e.querySelector('[data-id="'.concat(o,'"]')).value);isNaN(r)&&(r=0),i=[i,r]}N.createObj(t.options,a,i)}),this.querySelectorAllForEach("[data-apply]",function(e){var n=e.dataset.apply;!1===e.checked&&N.createObj(t.options,n,void 0)});var n,a=this.querySelector("[data-font-size]").value||12,i=this.querySelector("[data-font-family]").value,o="".concat(a,"px ").concat(i),r=!0===this.icon?t.options.src:t.options.form;return null!=t.options.label&&null!=t.options.label.text&&(n=t.options.label),t.options={fill:t.options.fill,stroke:t.options.stroke,label:n,icon:r,radius:t.options.radius},"line"===this.getGeometry()&&(t.options={fill:t.options.fill,stroke:t.options.stroke,label:t.options.label},delete t.options.fill.pattern,0===Object.keys(t.options.fill).length&&delete t.options.fill),"polygon"===this.getGeometry()&&(t.options={fill:t.options.fill,stroke:t.options.stroke,label:t.options.label}),null!=t.options.label&&(t.options.label.font=o),this.processOptions(t)}},{key:"processOptions",value:function(e){var t=M.utils.extends({},e),n=this.isChecked("fill"),a=this.isChecked("stroke"),i=this.isChecked("label"),o=this.isChecked("icon"),r=this.isChecked("form");return t.options.fill=!0===n?t.options.fill:void 0,t.options.stroke=!0===a?t.options.stroke:void 0,t.options.label=!0===i?t.options.label:void 0,t.options.icon=!0===o||!0===r?t.options.icon:void 0,t}},{key:"isChecked",value:function(e){var t=!1,n=this.getParentTemplate().parentElement.querySelector("[data-buttons-option-category] input[data-apply='".concat(e,"'"));return null!=n&&(t=n.checked),t}},{key:"generateStyle",value:function(){var e;this.querySelectorAllForEach("[data-apply]",function(e){!0===e.checked&&!1});var t=this.getGeometry(),n=this.generateOptions().options;switch(t){case"point":e=new M.style.Point(n);break;case"line":e=new M.style.Line(n);break;case"polygon":e=new M.style.Polygon(n);break;default:M.dialog.error("Geometría no soportada","Error")}return e}},{key:"compatibleSectionListener",value:function(e,t){var n=this,a=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')),i=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]'));null!=a&&a.addEventListener("click",function(){!1===i.checked?n.disableOption(t):n.enableOption(t)})}},{key:"disableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]')),n=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]+label'));this.hideOptionSection(e),n.classList.add("check-inactive"),n.classList.add("check-selected"),n.classList.remove("m-option-active"),t.disabled=!0,t.checked=!1}},{key:"enableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]'));this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')).classList.remove("check-inactive"),t.disabled=!1}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;null!=this.style_&&(null!=this.style_.get("fill.pattern")&&(e.patternflag=!0),e=M.utils.extends({},this.style_.getOptions()),e=M.utils.extends(e,t.DEFAULT_OPTIONS_STYLE)),e.fill.color=P(e.fill.color).hex(),e.stroke.color=P(e.stroke.color).hex(),e.label.fill.color=P(e.label.fill.color).hex(),e.label.stroke.color="no-color"===e.label.stroke.color?"no-color":P(e.label.stroke.color).hex(),e.fill.pattern.color=P(e.fill.pattern.color).hex(),e.icon.fill=P(e.icon.fill).hex(),e.icon.gradientcolor=P(e.icon.gradientcolor).hex();var n=Object.keys(M.style.pattern).filter(function(e){return"ICON"!=e&&"IMAGE"!=e}),a=Object.values(M.style.align),i=Object.values(M.style.baseline),o=Object.values(M.style.form).filter(function(e){return null!=e});if(e.patternlist=t.arrayDataToTemplate(e.fill.pattern.name,n,n),e.linecapstroke=t.arrayDataToTemplate(e.stroke.linecap,["butt","square","round"],["Extremo","Cuadrado","Redondeado"]),e.linejoinstroke=t.arrayDataToTemplate(e.stroke.linejoin,["bevel","miter","round"],["Bisel","Inglete","Redondeado"]),e.linecaplabelstroke=t.arrayDataToTemplate(e.label.stroke.linecap,["butt","square","round"],["Extremo","Cuadrado","Redondeado"]),e.linejoinlabelstroke=t.arrayDataToTemplate(e.label.stroke.linejoin,["bevel","miter","round"],["Bisel","Inglete","Redondeado"]),e.alignlist=t.arrayDataToTemplate(e.label.align,a,a),e.baselinelist=t.arrayDataToTemplate(e.label.baseline,i,i),e.formlist=t.arrayDataToTemplate(e.icon.form,o,o),null!=this.layer_){var r=Object.keys(this.getFeaturesAttributes()),s=null!=e.label?e.label.text:"";e.featuresAttr=t.arrayDataToTemplate(s,r.map(function(e){return"{{".concat(e,"}}")}),r)}return e}},{key:"toggleDisplaySubmenu",value:function(e){var t=!0===e?"add":"remove";this.getParentTemplate().querySelector("[data-buttons-option]").classList[t]("m-hidden")}},{key:"addLegendListener",value:function(){var e=this;this.querySelectorAllForEach("input,select,div.m-boxes",function(t){t instanceof HTMLDivElement?t.addEventListener("click",function(){e.refreshLegend(t)}):t instanceof HTMLSelectElement?t.addEventListener("change",function(){e.refreshLegend(t)}):t.addEventListener("input",function(){e.refreshLegend(t)})})}},{key:"refreshLegend",value:function(e,n){var a=this.imgId_,i=this.generateStyle();if(!0===n&&(i=this.style_),null!=i){this.style_=i,(i=i.clone())instanceof M.style.Point&&(i.set("radius",t.RADIUS_OPTION),null!=i.get("icon.radius")&&i.set("icon.radius",t.ICON_RADIUS_OPTION));var o=this.htmlParent_.querySelector("img[id='img-".concat(a,"']"));i.updateCanvas();var r=i.toImage();null!=o&&(o.src=r)}}},{key:"imgId",set:function(e){this.imgId_=e},get:function(){return this.imgId_}},{key:"fill",set:function(e){this.fill_=e},get:function(){return this.fill_}},{key:"stroke",set:function(e){this.stroke_=e},get:function(){return this.stroke_}},{key:"label",set:function(e){this.label_=e},get:function(){return this.label_}},{key:"form",set:function(e){this.form_=e},get:function(){return this.form_}},{key:"icon",set:function(e){this.icon_=e},get:function(){return this.icon_}},{key:"style",get:function(){return this.style_}}])&&Se(n.prototype,a),i&&Se(n,i),t}();function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xe(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qe=function(e){function t(e,n,a,i,o,r){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(s=xe(this,Ae(t).call(this,e,n,a,i,o))).styleCategories_={},s.compilePromise_.then(function(){s.getTemplate().querySelector("[data-options='attributeName']").addEventListener("input",function(){s.renderAttributeOptions()})}),s.selectedCategory_=null,s.clickedOnTable_=!1,s.controller_=r,s}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,N),n=t,i=[{key:"OPTIONS_POINT_SUBMENU",get:function(){return[{id:"fill",name:"Relleno"},{id:"stroke",name:"Trazo"},{id:"label",name:"Etiqueta"},{id:"icon",name:"Icono"},{id:"form",name:"Fuente"}]}},{key:"OPTIONS_SUBMENU",get:function(){return[{id:"fill",name:"Relleno"},{id:"stroke",name:"Trazo"},{id:"label",name:"Etiqueta"}]}},{key:"MAXNUMBER_CATEGORIES",get:function(){return 30}}],(a=[{key:"setLayer",value:function(e){return this.layer_=e,this.setAttributes(),this.refreshOptionsButtons(),this}},{key:"unhide",value:function(){return this.getTemplate().classList.remove("m-hidden"),this.getParentTemplate().querySelector("[data-buttons-option-category]").classList.remove("m-hidden"),this}},{key:"hide",value:function(){return this.getTemplate().classList.add("m-hidden"),this.getParentTemplate().querySelector("[data-buttons-option-category]").classList.add("m-hidden"),this}},{key:"addEventClickListener",value:function(){var e=this;this.querySelectorAllForEach("td:first-child",function(t){t.addEventListener("click",function(){e.toggleCategory(t.id)})})}},{key:"refreshOptionsButtons",value:function(){var e=this,t=Ee.OPTIONS_POINT_SUBMENU;"point"!==this.getGeometry()&&(t=Ee.OPTIONS_SUBMENU),this.addOptionsButtons(t,function(){e.compatibleSectionListener("icon","form"),e.compatibleSectionListener("form","icon")})}},{key:"addOptionsButtons",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.getParentTemplate().querySelector("[data-buttons-option-category]");this.addTemplate(he.a,a,{buttonsParams:e},function(a){"function"==typeof n&&n(),e.forEach(function(n){return t.addEventOptionListener(n,e)}),e.forEach(function(n){return t.addEventCheckListener(n,e)}),t.deactivateSubmenu(),t.addEventCheckFromSubmenu()})}},{key:"addEventCheckFromSubmenu",value:function(){var e=this;this.querySelectorAllForEachParent("[data-buttons-option-category] input",function(t){t.addEventListener("change",function(){e.controller_.selectPanel("stylecategory"),e.controller_.setCompatibleStylePanels("stylecategory"),e.controller_.showActivePanel("stylecategory")})})}},{key:"compatibleSectionListener",value:function(e,t){var n=this,a=this.querySelectorParent('[data-buttons-option-category] input[data-apply="'.concat(e,'"]'));null!=a&&a.addEventListener("change",function(){!0===a.checked?n.disableOption(t):n.enableOption(t)})}},{key:"disableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option-category] input[data-apply="'.concat(e,'"]')),n=this.getParentTemplate().querySelector('[data-buttons-option-category] input[data-apply="'.concat(e,'"]+label'));this.hideOptionSection(e),null!=n&&(n.classList.add("check-inactive"),n.classList.add("check-selected"),n.classList.remove("m-option-active")),null!=t&&(t.disabled=!0,t.checked=!1)}},{key:"enableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option-category] input[data-apply="'.concat(e,'"]')),n=this.getParentTemplate().querySelector('[data-buttons-option-category] input[data-apply="'.concat(e,'"]+label'));null!=n&&n.classList.remove("check-inactive"),null!=t&&(t.disabled=!1)}},{key:"toggleCategory",value:function(e){var t=this;Object.values(this.styleCategories_).forEach(function(e){e.hide()}),!1===this.clickedOnTable_&&(this.activateSubmenu(),this.clickedOnTable_=!0);var n=this.styleCategories_[e];this.selectedCategory_=n;var a=this.selectedCategory_.getOptions();this.checkInput("fill",a.fill),this.checkInput("stroke",a.stroke),this.checkInput("label",a.label),this.checkInput("form",a.form),this.checkInput("icon",a.icon),null!=n&&(n.unhide(),n.showCompatibleSections()),Object.values(this.styleCategories_).forEach(function(e){e.setLayer(t.layer_,!1)})}},{key:"renderAttributeOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.querySelector("[data-options='attributeName']").value;null!=this.style_&&!0===e&&(n=this.style_.getAttributeName());var a=!M.utils.isNullOrEmpty(n),i=this.getAllValuesAttribute(n).filter(function(e){return!M.utils.isNullOrEmpty(e)}).map(function(e){return{name:e}}).splice(0,t.MAXNUMBER_CATEGORIES);this.removeCategories(),this.createCategories(i),this.addCategoriesView(i,a)}},{key:"addCategoriesView",value:function(e,t){var n=this,a=this.querySelector("[data-options='values']");this.compileTemplate(me.a,{values:e,attributeExists:t}).then(function(e){a.innerHTML=e.innerHTML,Object.values(n.styleCategories_).forEach(function(e){e.refreshTemplate(),e.hide()}),n.addEventClickListener(),n.addEventSelectedListener(),n.addLegendListenerAll()})}},{key:"createCategories",value:function(e){var t=this,n=null==this.style_?null:this.style_.getCategories();e.forEach(function(e){var a=null==n?null:n[e.name];t.styleCategories_[e.name]=new Ee(ve.a,t.htmlTemplate_,"stylesimple",a,t.layer_,t),t.styleCategories_[e.name].compilePromise_.then(function(){t.styleCategories_[e.name].refreshLegend(e.name,!0)}),t.setGeometryCategory(t.styleCategories_[e.name])});var a=null==n?null:n.other;this.styleCategories_.other=new Ee(f.a,this.htmlTemplate_,"stylesimple",a,this.layer_,this),this.styleCategories_.other.compilePromise_.then(function(){t.styleCategories_.other.refreshLegend("other",!0)}),this.setGeometryCategory(this.styleCategories_.other)}},{key:"removeCategories",value:function(){Object.values(this.styleCategories_).forEach(function(e){return e.destroy()}),this.styleCategories_={}}},{key:"setAttributes",value:function(){var e=this;if(this.layer_ instanceof M.layer.Vector){var t=null==this.style_?"":this.style_.getAttributeName(),n=this.filterAttributesFeature("string").map(function(e){return{name:e,selected:t}}),a=this.getTemplate().querySelector("[data-options='attributeName']");this.compileTemplate(T.a,{attributes:n}).then(function(t){a.innerHTML=t.innerHTML,e.renderAttributeOptions(!0),0===n.length?e.deactivateBinding():e.activateBinding()})}}},{key:"setGeometryCategory",value:function(e){switch(this.layer_.getFeatures()[0].getGeometry().type){case"Point":case"MultiPoint":e.geometry_="point";break;case"LineString":case"MultiLineString":e.geometry_="line";break;case"Polygon":case"MultiPolygon":e.geometry_="polygon";break;default:M.dialog.error("Geometria no soportada","Error")}}},{key:"showSection",value:function(e){this.querySelectorAllForEach("[data-id='".concat(e,"']"),function(e){e.classList.remove("m-hidden")})}},{key:"hideSection",value:function(e){this.querySelectorAllForEach("[data-id='".concat(e,"']"),function(e){e.classList.add("m-hidden")})}},{key:"addEventOptionListener",value:function(e,t){var n=this,a=this.querySelectorParent("[data-buttons-option-category] [data-label='".concat(e.id,"']")),i=this.querySelectorParent("[data-buttons-option-category] input[data-apply='".concat(e.id,"']"));a.addEventListener("click",function(){!1===i.disabled&&(t.forEach(function(e){return n.hideSection(e.id)}),n.showSection(e.id),n.activeSection(e.id))})}},{key:"addEventCheckListener",value:function(e,t){var n=this;this.querySelectorParent("[data-buttons-option-category] input[data-apply='".concat(e.id,"']")).addEventListener("click",function(){n.checkSection(e.id,t)})}},{key:"activeSection",value:function(e){var t=this.querySelectorParent("[data-buttons-option-category] [data-selector='".concat(e,"']"));this.querySelectorAllForEachParent("[data-buttons-option-category] [data-selector]",function(e){e.classList.remove("check-active"),e.classList.add("check-selected")}),t.classList.remove("check-selected"),t.classList.add("check-active")}},{key:"setSelectedRow",value:function(e){this.querySelectorAllForEach("td:first-child",function(e){e.classList.remove("m-table-cell-selected")}),this.querySelector("[id='".concat(e,"']")).classList.add("m-table-cell-selected")}},{key:"addEventSelectedListener",value:function(){var e=this;this.querySelectorAllForEach("td:first-child",function(t){var n=t.id;t.addEventListener("click",function(){return e.setSelectedRow(n)})})}},{key:"checkSection",value:function(e,t){var n=this;!0===this.querySelectorParent("[data-buttons-option-category] #cat-".concat(e)).checked?(null!=this.selectedCategory_&&(this.selectedCategory_[e]=!0),t.forEach(function(e){return n.hideSection(e.id)}),this.showSection(e),this.activeSection(e)):null!=this.selectedCategory_&&(this.selectedCategory_[e]=!1),this.selectedCategory_.refreshLegend()}},{key:"checkInput",value:function(e,t){var n=this.querySelectorParent("[data-buttons-option-category] #cat-".concat(e));null!=n&&(n.checked=t)}},{key:"activateSubmenu",value:function(){this.querySelectorAllForEachParent("[data-buttons-option-category] input",function(e){return e.disabled=!1}),this.querySelectorAllForEachParent("[data-buttons-option-category] label[data-selector]",function(e){e.classList.remove("check-inactive"),e.classList.add("check-selected")})}},{key:"deactivateSubmenu",value:function(){this.querySelectorAllForEachParent("[data-buttons-option-category] input",function(e){return e.disabled=!0}),this.querySelectorAllForEachParent("[data-buttons-option-category] label[data-selector]",function(e){e.classList.add("check-inactive"),e.classList.remove("check-selected")})}},{key:"getGeometry",value:function(){var e=this.layer_.getFeatures()[0].getGeometry().type;switch(e){case"Point":case"MultiPoint":e="point";break;case"LineString":case"MultiLineString":e="line";break;case"Polygon":case"MultiPolygon":e="polygon";break;default:M.dialog.error("Geometria no soportada","Error")}return e}},{key:"getAllValuesAttribute",value:function(e){return this.layer_.getFeatures().map(function(t){return t.getAttribute(e)}).filter(function(e,t,n){return n.indexOf(e)==t})}},{key:"generateOptions",value:function(){var e=this,t={},n={};return t.attributeName=this.querySelector("[data-options='attributeName']").value,Object.keys(this.styleCategories_).forEach(function(t){var a=e.styleCategories_[t],i=e.styleCategories_[t].generateOptions().options,o=a.fill,r=a.stroke,s=a.icon||a.form,l=a.label;null!=i.fill&&Object.values(i.fill).filter(function(e){return null!=e});(o||r||s||l)&&(n[t]=e.styleCategories_[t].style)},this),t.options=n,t}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=null;return""!==e.attributeName&&(t=new M.style.Category(e.attributeName,e.options)),t}},{key:"addLegendListenerAll",value:function(){var e=this;Object.keys(this.styleCategories_).forEach(function(t){var n=e.styleCategories_[t];n.imgId=t,n.addLegendListener()})}}])&&Le(n.prototype,a),i&&Le(n,i),t}(),Ce=n(14),Me=n.n(Ce),Ne=n(15),je=n.n(Ne),Fe=n(16),Ie=n.n(Fe);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function De(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ge(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ve=function(e){function t(e,n,a,i,o){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ge(this,Ue(t).call(this,e,n,a,i,o))).variables_=[],null!=i&&(r.variables_=i.getOptions().variables.map(function(e){return e.attribute})),r.compilePromise_.then(function(){r.addKeyEnterListener(),r.addRenderCompatibleListener(),r.addAttributeListener(),r.refreshVariables()}),r}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,N),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this.renderAttributes(),this}},{key:"addAttribute",value:function(e){this.variables_.push(e)}},{key:"removeAttribute",value:function(e){this.variables_=this.variables_.filter(function(t){return t!=e})}},{key:"addAttributeFromParamenter",value:function(e){this.addAttribute(e),this.addVariableTemplate(e),this.refreshPagination()}},{key:"addAttributeFromInput",value:function(){var e=this.querySelector("[data-attribute]").value;""!==e?this.variables_.includes(e)?M.dialog.info("El atributo ya ha sido agregado.","Nombre de variable repetida"):this.layer_.getFeatures()[0].getAttributes().hasOwnProperty(e)?this.addAttributeFromParamenter(e):M.dialog.info("No existe ninguna variable con ese nombre.","Nombre de variable incorrecto."):M.dialog.info("No está permitido introducir una cadena vacía.","Nombre de variable vacía.")}},{key:"removeAttributeFromInput",value:function(){var e=this.querySelector("[data-attribute]").value;this.removeAttribute(e)}},{key:"addAttributeListener",value:function(){var e=this;this.querySelector("[data-add]").addEventListener("click",function(){e.addAttributeFromInput()})}},{key:"addKeyEnterListener",value:function(){this.querySelector("[data-attribute]").addEventListener("keydown",this.keyEnterListener())}},{key:"keyEnterListener",value:function(){var e=this;return function(t){"Enter"===t.key&&e.addAttributeFromInput()}}},{key:"addVariableTemplate",value:function(e){var n,a=this,i=this.querySelector("[data-variables]"),o=[],r=t.DEFAULT_OPTIONS_VARIABLE.legend,s=t.DEFAULT_OPTIONS_VARIABLE.label;null!=this.style_&&(o=this.style_.getOptions().variables),0!==o.length&&null!=(n=o.find(function(t){return t.attribute===e}))&&(r=n.legend,s=n.label),this.compileTemplate(Me.a,{attribute:e,legend:r,label:s}).then(function(t){i.append.apply(i,Be(t.children));var n=a.querySelector('[data-remove="'.concat(e,'"]'));null!=n&&(a.addRemoveVarSectionListener(n),a.addLabelOptionListener(e))})}},{key:"removeVariableTemplate",value:function(e){var t=this.querySelector(".m-chart-variables");this.querySelectorAllForEach('.m-chart-variables [data-delete="'.concat(e,'"]'),function(e){t.removeChild(e)})}},{key:"removeVariableSection",value:function(e){this.removeAttribute(e),this.removeVariableTemplate(e),this.refreshPagination()}},{key:"refreshVariables",value:function(){var e=this;Be(this.variables_).forEach(function(t){e.removeVariableSection(t),e.addAttributeFromParamenter(t)})}},{key:"addRemoveVarSectionListener",value:function(e){e.addEventListener("click",this.removeVarSectionListener(e).bind(this))}},{key:"removeVarSectionListener",value:function(e){var t=this,n=e.dataset.remove;return function(){t.removeVariableSection(n)}}},{key:"refreshPagination",value:function(){var e=this,t=this.variables_.map(function(e,t){return{attribute:e,number:t+1}}),n=this.querySelector("[data-pagination]");this.compileTemplate(je.a,{ranges:t}).then(function(t){n.innerHTML=t.innerHTML,e.addClickPagerListener();var a=e.variables_.slice(-1)[0];null!=a&&e.showVariableSection(a)()})}},{key:"addClickPagerListener",value:function(){var e=this;this.querySelectorAllForEach("[data-page-selector]",function(t){var n=t.dataset.pageSelector;t.addEventListener("click",e.showVariableSection(n).bind(e))})}},{key:"clickPagerListener",value:function(e){this.querySelectorAllForEach("[data-target]",function(e){e.classList.add("m-hidden")}),this.querySelectorAllForEach('[data-target="'.concat(e,'"]'),function(e){e.classList.remove("m-hidden")})}},{key:"activePageListener",value:function(e){this.querySelectorAllForEach("[data-page-selector]",function(e){e.classList.remove("m-page-active")});var t=this.querySelector('[data-page-selector="'.concat(e,'"]'));null!=t&&t.classList.add("m-page-active")}},{key:"showVariableSection",value:function(e){var t=this;return function(){t.clickPagerListener(e),t.activePageListener(e)}}},{key:"renderCompatibleOpts",value:function(e){this.querySelectorAllForEach("[data-type]",function(t){t.dataset.type.split(",").includes(e)?t.classList.remove("m-hidden"):t.classList.add("m-hidden")})}},{key:"renderCompatibleListener",value:function(){var e=this.querySelector("[data-style-options='type']").selectedOptions[0].value;this.renderCompatibleOpts(e)}},{key:"addRenderCompatibleListener",value:function(){this.querySelector("[data-style-options='type']").addEventListener("change",this.renderCompatibleListener.bind(this))}},{key:"renderAttributes",value:function(){var e=this,t=this.layer_.getFeatures()[0].getAttributes(),n=Object.keys(t);n=n.filter(function(e){return!isNaN(parseFloat(t[e]))}),this.compileTemplate(Ie.a,{attributes:n}).then(function(t){e.querySelector("[data-attribute]").innerHTML=t.innerHTML})}},{key:"toggleLabelOptions",value:function(e){var t=this.querySelector('[data-label-target="'.concat(e,'"]')).classList;!0===t.contains("m-hidden")?t.remove("m-hidden"):t.add("m-hidden")}},{key:"addLabelOptionListener",value:function(e){var t=this;this.querySelector('[data-variable-option="'.concat(e,'.labelshow"]')).addEventListener("change",function(){t.toggleLabelOptions(e)})}},{key:"generateVariableOptions",value:function(){var e={};this.querySelectorAllForEach("input[data-variable-option]",function(t){var n=t.dataset.variableOption,a=t.value;"number"===t.type&&(a=parseFloat(a)),"checkbox"===t.type&&(a=t.checked),N.createObj(e,n,a)});var t=this.variables_.map(function(t){return e[t].attribute=t,e[t]});return t=t.map(function(e){return!0===e.labelshow?e.label.text=function(e,t){return Math.round(e/t.reduce(function(e,t){return e+t})*100)+"%"}:e.label=void 0,e})}},{key:"generateStyle",value:function(){var e=this.generateOptions().options,t=this.generateVariableOptions(),n=M.style.chart.schemes[e.scheme];return new M.style.Chart({type:e.type,scheme:n,radius:e.radius,donutRadio:e.donutRadius,offsetX:e.offsetX,offsetY:e.offsetY,variables:0===t.length?[new M.style.chart.Variable({attribute:"default"})]:t,fill3DColor:e.fill3DColor})}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;return null!=this.style_&&((e=this.style_.getOptions()).scheme=this.getSchemeName()),e}},{key:"getSchemeName",value:function(){if(null!=this.style_){var e=this.style_.getOptions().scheme,t=M.style.chart.schemes;name=Object.keys(t).find(function(n){return a=e,i=t[n],o=!1,r=!1,a instanceof Array&&i instanceof Array&&(o=a.every(function(e,t){return e===i[t]}),r=i.every(function(e,t){return e===a[t]})),o&&r;var a,i,o,r})}return name}}])&&De(n.prototype,a),i&&De(n,i),t}();function He(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ye(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Ve.DEFAULT_OPTIONS_STYLE={donutRatio:4,fill3DColor:"#ff00f0",offsetX:0,offsetY:0,radius:12,rotateWithView:!1,scheme:["#ffa500","blue","red","green","cyan","magenta","yellow","#0f0"],type:"pie"},Ve.DEFAULT_OPTIONS_VARIABLE={legend:"Ejemplo de leyenda",label:{fill:"#ff0000",scale:1,text:function(e,t){return Math.round(e/t.reduce(function(e,t){return e+t})*100)+"%"},radiusIncrement:2,stroke:{color:"#000000",width:1}}};var Ke=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.layer_=null,this.activePanel_=null,this.selectedPanels_=[],this.html_=t,this.renderViews(null)}var t,n,a;return t=e,a=[{key:"parseStyleToName",value:function(e){var t="";return e instanceof M.style.Simple?t="stylesimple":e instanceof M.style.Cluster?t="stylecluster":e instanceof M.style.Heatmap?t="styleheatmap":e instanceof M.style.Choropleth?t="stylechoropleth":e instanceof M.style.Category?t="stylecategory":e instanceof M.style.Chart?t="stylechart":e instanceof M.style.Proportional&&(t="styleproportional"),t}},{key:"STYLE_COMPATIBLE_OPTIONS",get:function(){return{stylesimple:["styleproportional","stylecluster","stylesimple"],styleproportional:["stylesimple","stylecluster","stylechart","styleproportional","stylecategory","stylechoropleth"],stylechoropleth:["styleproportional","stylecluster","stylechoropleth"],stylecategory:["styleproportional","stylecluster","stylecategory"],stylecluster:["stylesimple","stylechart","styleproportional","stylecategory","stylechoropleth","stylecluster"],styleheatmap:["styleheatmap"],stylechart:["stylecluster","styleproportional","stylechart"]}}},{key:"GEOMETRY_COMPATIBLE_OPTIONS",get:function(){return{point:["styleproportional","stylecluster","stylechoropleth","stylecategory","styleheatmap","stylechart","stylesimple"],line:["stylechoropleth","stylecategory","stylesimple"],polygon:["stylechoropleth","stylecategory","stylesimple","styleproportional"]}}}],(n=[{key:"getStyles",value:function(e,t){var n=null;if(null!=e){var a=e.getStyle();if(a instanceof t)n=a;else if(a instanceof M.style.Composite){n=a.getStyles().find(function(e){return e instanceof t})}}return n}},{key:"renderViews",value:function(e){var t=this;this.bindings_={},this.bindings_.stylesimple=new G(f.a,this.html_,"stylesimple",this.getStyles(e,M.style.Simple),e,this),this.bindings_.styleproportional=new K(y.a,this.html_,"styleproportional",this.getStyles(e,M.style.Proportional),e),this.bindings_.stylecluster=new ee(b.a,this.html_,"stylecluster",this.getStyles(e,M.style.Cluster),e),this.bindings_.stylechoropleth=new pe(g.a,this.html_,"stylechoropleth",this.getStyles(e,M.style.Choropleth),e),this.bindings_.stylecategory=new qe(S.a,this.html_,"stylecategory",this.getStyles(e,M.style.Category),e,this),this.bindings_.styleheatmap=new re(O.a,this.html_,"styleheatmap",this.getStyles(e,M.style.Heatmap),e),this.bindings_.stylechart=new Ve(E.a,this.html_,"stylechart",this.getStyles(e,M.style.Chart),e),this.bindings_.stylesimple.getCompilePromise().then(function(){t.addSelectOnChangeListener()}),this.allCompilePromises_=this.getBindings().map(function(e){return e.getCompilePromise()})}},{key:"getAllCompilePromises",value:function(){return this.allCompilePromises_}},{key:"renderViewsPromise",value:function(){var e=Object.values(this.bindings_).map(function(e){return e.getCompilePromise()});return Promise.all(e)}},{key:"destroyViews",value:function(){Object.values(this.bindings_).forEach(function(e){return e.destroy()})}},{key:"getActivePanel",value:function(){return this.activePanel_}},{key:"setActivePanel",value:function(e){Object.values(this.bindings_).forEach(function(e){return e.setActivated(!1)}),this.activePanel_=this.bindings_[e],this.activePanel_.setActivated(!0),"stylesimple"===e?this.bindings_.stylesimple.toggleDisplaySubmenu(!1):this.bindings_.stylesimple.toggleDisplaySubmenu(!0)}},{key:"getSelectedPanels",value:function(){var e=this;return this.selectedPanels_.map(function(t){return e.bindings_[t]})}},{key:"addSelectedPanel",value:function(e){this.selectedPanels_.includes(e)||(this.selectedPanels_.push(e),this.bindings_[e].setSelected(!0))}},{key:"selectPanel",value:function(e){this.html_.querySelector("[data-checkbox='".concat(e,"']")).checked=!0,this.addSelectedPanel(e)}},{key:"removeSelectedPanel",value:function(e){this.selectedPanels_=this.selectedPanels_.filter(function(t){return t!==e}),this.bindings_[e].setSelected(!1)}},{key:"disablePanel",value:function(e){var t=this.bindings_[e];null!=t&&t.setDisabled(!0)}},{key:"enablePanel",value:function(e){var t=this.bindings_[e];null!=t&&t.setDisabled(!1)}},{key:"setGeometry",value:function(e){this.geometry_=e}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"change",value:function(e){var t=this;this.destroyViews(),this.renderViews(e),this.renderViewsPromise().then(function(){t.setLayer(e),t.resetOptions(),t.setCompatiblePanels(),t.initBindings(e)})}},{key:"setLayer",value:function(e){switch(null===this.layer_&&(this.addActiveListener(),this.addSelectListener()),this.layer_=e,e.getFeatures()[0].getGeometry().type){case"Point":case"MultiPoint":this.setGeometry("point");break;case"LineString":case"MultiLineString":this.setGeometry("line");break;case"Polygon":case"MultiPolygon":this.setGeometry("polygon");break;default:M.dialog.error("Geometria no soportada","Error")}}},{key:"getKeysBindings",value:function(){return Object.keys(this.bindings_)}},{key:"getBindings",value:function(){return Object.values(this.bindings_)}},{key:"deactivateAll",value:function(){this.getBindings().forEach(function(e){return e.setActivated(!1)}),this.activePanel_=null}},{key:"unselectAll",value:function(){this.getBindings().forEach(function(e){return e.setSelected(!1)}),this.selectedPanels_=[]}},{key:"enableAll",value:function(){var e=this;this.getKeysBindings().forEach(function(t){return e.enablePanel(t)})}},{key:"disableAll",value:function(){var e=this;this.getKeysBindings().forEach(function(t){return e.disablePanel(t)})}},{key:"bindLayer",value:function(e){this.bindings_[e].setLayer(this.layer_),this.bindings_[e].setDisabled(!1)}},{key:"resetOptions",value:function(){this.deactivateAll(),this.unselectAll()}},{key:"initBindings",value:function(t){var n=this;this.bindings_.stylesimple.setGeometry(this.geometry_).setLayer(this.layer_);var a=[t.getStyle()];a[0]instanceof M.style.Composite&&a.push.apply(a,He(a[0].getStyles())),a.map(function(t){return e.parseStyleToName(t)}).forEach(function(e){n.showCompatiblePanel(e),n.activeLastSelected(e)})}},{key:"setCompatiblePanels",value:function(){var t=this,n=e.GEOMETRY_COMPATIBLE_OPTIONS[this.geometry_];this.getKeysBindings().forEach(function(e){n.includes(e)?t.bindLayer(e):t.disablePanel(e)}),this.deactivateAll()}},{key:"setCompatibleStylePanels",value:function(e){var t=this;this.disableAll(),this.getCompatibles().forEach(function(e){t.compatibleGeometry(e)&&t.enablePanel(e)}),this.selectedPanels_.forEach(function(e){t.bindings_[e].setSelected(!0)})}},{key:"showActivePanel",value:function(e){this.deactivateAll(),this.setActivePanel(e)}},{key:"activeLastSelected",value:function(e){var t=this.selectedPanels_.slice(-1)[0];null==t&&(t=e),this.showActivePanel(t)}},{key:"showCompatiblePanel",value:function(e){this.selectedPanels_.includes(e)?this.removeSelectedPanel(e):this.addSelectedPanel(e),this.setCompatibleStylePanels(e)}},{key:"addActiveListener",value:function(){var e=this;this.getKeysBindings().forEach(function(t){var n=e.bindings_[t],a=n.getSelectButton(),i=n.getActivateButton();e.html_.querySelector("[data-flap='".concat(t,"']+label")).addEventListener("click",function(){if(!1===a.disabled){var t=i.dataset.flap;e.toggleDisplaySubmenu("stylesimple"!==t),e.showActivePanel(t)}})})}},{key:"addSelectListener",value:function(){var e=this;this.getKeysBindings().forEach(function(t){var n=e.bindings_[t].getSelectButton();n.addEventListener("change",function(){var t=n.dataset.checkbox;e.toggleDisplaySubmenu("stylesimple"!==t),e.showCompatiblePanel(t),e.activeLastSelected(t)})})}},{key:"getStyle",value:function(){var e;if(0===this.getSelectedPanels().length)M.dialog.info("Debe elegir al menos un estilo","Elija estilo");else if(1===this.getSelectedPanels().length)e=this.getSelectedPanels()[0].generateStyle();else{var t=this.getMainStyle(),n=this.getIndividualStyles();t.add(n),e=t}return e}},{key:"getMainStyle",value:function(){return this.getSelectedPanels().map(function(e){return e.generateStyle()}).find(function(e){return e instanceof M.style.Composite})}},{key:"getIndividualStyles",value:function(){var e=this.getMainStyle();return this.getSelectedPanels().filter(function(e){return null!=e}).map(function(e){return e.generateStyle()}).filter(function(t){return!t.equals(e)})}},{key:"getCompatibles",value:function(){var e=this;return["stylesimple","stylecluster","stylechart","styleproportional","stylecategory","stylechoropleth","styleheatmap"].filter(function(t){return e.isCompatibleAll(e.selectedPanels_,t)})}},{key:"toggleDisplaySubmenu",value:function(e){this.bindings_.stylesimple.toggleDisplaySubmenu(e)}},{key:"isCompatible",value:function(t,n){return e.STYLE_COMPATIBLE_OPTIONS[t].includes(n)}},{key:"isCompatibleAll",value:function(e,t){var n=this,a=!0;return e.forEach(function(e){n.isCompatible(e,t)||(a=!1)}),a}},{key:"compatibleGeometry",value:function(t){return e.GEOMETRY_COMPATIBLE_OPTIONS[this.geometry_].includes(t)}},{key:"addSelectOnChangeListener",value:function(){var e=this;this.bindings_.stylesimple.querySelectorAllForEach("*",function(t){t.addEventListener("click",function(){e.addSelectedPanel("stylesimple")})})}}])&&Ye(t.prototype,n),a&&Ye(t,a),e}();function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Qe(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tt=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M.utils.isUndefined(d)&&M.exception("La implementación usada no puede crear controles PluginControl");var a=new d;return(n=Qe(this,Ze(t).call(this,a,"StyleManager"))).layer_=e,n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(t,M.Control),n=t,(a=[{key:"createView",value:function(e){var t=this;this.facadeMap_=e;var n=e.getWFS().concat(e.getKML().concat(e.getLayers().filter(function(e){return"GeoJSON"===e.type})));return new Promise(function(e,a){var o=M.template.compileSync(i.a,{jsonp:!0,vars:{layers:n}}),r=o.querySelector("#m-stylemanager-select"),s=o.querySelector(".m-stylemanager-container-select");t.bindinController_=new Ke(s),t.addSelectListener(r,o),t.subscribeAddedLayer(r),t.addApplyBtnListener(o),t.addClearBtnListener(o),t.renderOptionsLayerParam(r,o,n),e(o)})}},{key:"renderOptionsLayerParam",value:function(e,t,n){var a=this;this.layer_ instanceof M.layer.Vector&&Promise.all(this.bindinController_.getAllCompilePromises()).then(function(){a.renderOptions(e,t,a.layer_),M.template.compile("selectlayer.html",{vars:{layers:n.map(function(e){return{name:e.name,selected:a.layer_.name}})}}).then(function(t){e.innerHTML=t.innerHTML})})}},{key:"addOpenAttribute",value:function(e){e.querySelector(".m-stylemanager-container-select").setAttribute("open-select","")}},{key:"addApplyBtnListener",value:function(e){e.querySelector("[data-apply-style]").addEventListener("click",this.applyStyle.bind(this))}},{key:"addClearBtnListener",value:function(e){e.querySelector("[data-clear-style]").addEventListener("click",this.clearStyle.bind(this))}},{key:"addSelectListener",value:function(e,t){var n=this;e.addEventListener("change",function(){n.renderOptions(e,t)})}},{key:"subscribeAddedLayer",value:function(e){var t=this;this.facadeMap_.on(M.evt.ADDED_LAYER,function(n){if(Array.isArray(n))n.filter(function(e){return e instanceof M.layer.Vector}).forEach(function(n){return t.addLayerOption(e,n.name)});else if(n instanceof M.layer.Vector){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){We(e,t,n[t])})}return e}({},n);t.addLayerOption(e,a)}})}},{key:"getActivationButton",value:function(e){return e.querySelector("button.m-panel-btn")}},{key:"addLayerOption",value:function(e,t){if("cluster_cover"!=t&&!0===this.isNotAdded(t,e)){var n=document.createElement("option");n.setAttribute("name",t),n.innerText=t,e.add(n)}}},{key:"isNotAdded",value:function(e,t){return!Je(t.children).some(function(t){return t.innerHTML===e})}},{key:"renderOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e.value;(this.layer_=this.getLayerByName(a),null!=n&&(this.layer_=n),this.layer_ instanceof M.layer.Vector)&&(0===this.layer_.getFeatures().length?(M.dialog.error("La capa no tiene features o aún no se han cargado.","Error"),e.selectedIndex=0):(this.bindinController_.change(this.layer_),this.showBoxes(t),this.addOpenAttribute(t)))}},{key:"getLayerByName",value:function(e){return this.facadeMap_.getWFS().concat(this.facadeMap_.getKML().concat(this.facadeMap_.getLayers().filter(function(e){return"GeoJSON"===e.type}))).find(function(t){return t.name===e})}},{key:"showBoxes",value:function(e){e.querySelector(".m-boxes").classList.remove("m-hidden")}},{key:"applyStyle",value:function(){if(this.layer_ instanceof M.layer.Vector){this.layer_.clearStyle();var e=this.bindinController_.getStyle();this.layer_.setStyle(e)}else M.dialog.info("Tiene que elegir una capa.","Elija capa")}},{key:"clearStyle",value:function(){this.layer_ instanceof M.layer.Vector?this.layer_.clearStyle():M.dialog.info("Tiene que elegir una capa.","Elija capa")}},{key:"equals",value:function(e){return e instanceof t}}])&&$e(n.prototype,a),o&&$e(n,o),t}();function nt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var at=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"apply",value:function(e){var t=e.document,n={started:!1,color:"#000000",inputs:{},hasNativeColorSupport:!1,init:function(e){if(this.start(),!this.hasNativeColorSupport){if("string"!=typeof e)throw"inputId have to be a string id selector";if(this.input=(this.inputs[e]=this.inputs[e])||t.getElementById(e),!this.input)throw'There was no input found with id: "'+e+'"';this.input.value=this.color,this.input.unselectable="on",this.css(this.input,{backgroundColor:this.color,borderWidth:"0.4em 0.3em",width:"3em",cursor:"default"}),this.input.onfocus=function(){n.onFocus(this.id)}}},start:function(){if(!this.started){try{this.hasNativeColorSupport=!!(t.createElement("input").type="color")}catch(e){}if(!this.hasNativeColorSupport){var e=t.createElement("object");e.classid="clsid:3050f819-98b5-11cf-bb82-00aa00bdce0b",e.id="colorHelperObj",this.css(e,{width:"0",height:"0"}),t.body.appendChild(e)}this.started=!0}},destroy:function(e){var n;if("string"==typeof e)this.off(this.inputs[e]);else{for(n in t.body.removeChild(t.getElementById("colorHelperObj")),this.inputs)this.off(this.inputs[n]);this.started=!1}},off:function(e){e.onfocus=null,this.css(e,{backgroundColor:"",borderWidth:"",width:"",cursor:""})},onFocus:function(e){this.input=this.inputs[e],this.color=this.getColor(),this.input.value=this.color,n.css(this.input,{backgroundColor:this.color,color:this.color}),this.input.blur()},getColor:function(){var e=t.getElementById("colorHelperObj").ChooseColorDlg(this.color.replace(/#/,"")).toString(16);e.length<6&&(e="000000".substring(0,6-e.length).concat(e));return"#"+e},css:function(e,t){for(var n in t)e.style[n]=t[n]}};e.nativeColorPicker=n}}],(n=null)&&nt(t.prototype,n),a&&nt(t,a),e}();function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function rt(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ct=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=rt(this,st(t).call(this))).map_=null,e.controls_=[],e.panel_=null,e.layer_=n,at.apply(window),Handlebars.registerHelper("sum",function(e,t){return e+t}),Handlebars.registerHelper("neq",function(e,t,n){return Object.equals(e,t)?n.inverse(this):n.fn(this)}),Handlebars.registerHelper("unless",function(e,t){return e?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("get",function(e,t){return t[e]}),Handlebars.registerHelper("uppercase",function(e){return e.toUpperCase()}),Handlebars.registerHelper("lowercase",function(e){return e.toLowerCase()}),M.utils.extends=M.utils.extendsObj,e}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(t,M.Plugin),n=t,(a=[{key:"addTo",value:function(e){this.controls_.push(new tt(this.layer_)),this.map_=e,this.panel_=new M.ui.Panel(t.NAME,{collapsible:!0,className:"m-stylemanager",collapsedButtonClass:"g-sigc-palette",position:M.ui.position.TL}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_)}},{key:"destroy",value:function(){this.map_.removeControls(this.controls_);var e=[null,null,null];this.control_=e[0],this.panel_=e[1],this.map_=e[2]}},{key:"name",get:function(){return"stylemanager"}}])&&ot(n.prototype,a),i&&ot(n,i),t}();window.M.plugin||(window.M.plugin={}),window.M.plugin.StyleManager=ct}]);
//# sourceMappingURL=stylemanager-2.0.2.ol.min.js.map